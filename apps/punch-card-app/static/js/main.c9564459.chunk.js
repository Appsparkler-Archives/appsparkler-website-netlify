(this["webpackJsonptime-tool"]=this["webpackJsonptime-tool"]||[]).push([[0],{167:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),i=n.n(c),r=n(46),o=n.n(r),s=n(99),u=n(16),l=n.n(u),d=n(36),j=n(26),b=n(2),m=n(10),O=n(218),h=n(217),f=n(12),p=n.n(f),x=n(224),C=n(221),v=function(e){var t=e.show,n=e.progressIndicator;return t&&Object(a.jsx)(C.a,Object(b.a)({},n))},k=function(e){var t=e.show,n=e.progress,c=e.label,r=i.a.useState({progressIndicator:{label:c,barHeight:12}}),o=Object(m.a)(r,1)[0],s={show:t,progressIndicator:Object(b.a)(Object(b.a)({},o.progressIndicator),{},{percentComplete:n})};return Object(a.jsx)(v,Object(b.a)({},s))};v.defaultProps={show:!1,progress:0};var P=i.a.memo(k),g=n(229),T=n(5),S=n(86),F=n.n(S),w=n(71),B=n.n(w),M=n(207),D=n(208),y=n(222),L=n(228),I=n(215),N=n(72),A=n.n(N),H=function(e){var t=e.show,n=e.children;return t&&n};H.propTypes={show:A.a.bool,children:A.a.any},H.defaultProps={show:!0,children:null};var E=i.a.memo(H),W=function(e){var t=e.showCallout,n=e.label,c=e.iconButton,i=e.labelWrapperStack,r=e.contentWrapperStack,o=e.calloutContent,s=e.callout;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(O.a,Object(b.a)(Object(b.a)({},i),{},{children:[Object(a.jsx)(y.a,{children:n}),Object(a.jsx)(L.a,Object(b.a)({},c))]})),Object(a.jsx)(E,{show:t,children:Object(a.jsx)(I.a,Object(b.a)(Object(b.a)({},s),{},{children:Object(a.jsx)(O.a,Object(b.a)(Object(b.a)({},r),{},{children:Object(a.jsx)("span",{children:o})}))}))})]})},Y=i.a.memo(W),R=function(e){var t=function(e){var t=e.label,n=void 0===t?"":t,c=e.content,r=void 0===c?"":c,o=Object(M.a)(),s=Object(D.a)(!1),u=Object(m.a)(s,2),l=u[0],d=u[1].toggle;return{labelWrapperStack:{horizontal:!0,verticalAlign:"center",tokens:{childrenGap:4,maxWidth:300}},label:n,callout:{target:"#".concat(o),onDismiss:d},iconButton:{id:o,styles:{root:{marginBottom:-3}},title:"Info",iconProps:{iconName:"Info"},onClick:i.a.useCallback((function(){d()}),[d])},showCallout:l,contentWrapperStack:{styles:{root:{padding:10,maxWidth:200}}},calloutContent:Object(a.jsx)(x.a,{variant:"small",children:r})}}({label:e.label,content:e.content});return Object(a.jsx)(Y,Object(b.a)({},t))},V=i.a.memo(R),G=function(e){var t=e.text0,n=e.form,c=e.maskedTextField0,i=e.maskedTextField1;return Object(a.jsxs)("form",Object(b.a)(Object(b.a)({},n),{},{children:[Object(a.jsx)(x.a,Object(b.a)({},t)),Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(g.a,Object(b.a)({},c)),Object(a.jsx)(g.a,Object(b.a)({},i))]})]}))},z=Object(T.B)({textField:{maxWidth:90}}),U=function(e){return Object(a.jsx)(V,Object(b.a)({},e))},q=function(e){var t=e.target;t.select(),t.select(0,99999)},J=function(e){var t=e.min,n=e.max,a=e.value,c=Number(a,10);if(!isNaN(c)){var i=c<Number(t),r=c>Number(n);return!i&&!r}return!1},Z=function(e){var t=e.onChangeGoal,n=e.hours,c=e.minutes,r=i.a.useState({text0:{children:"\ud83c\udfafGoal For The Day",variant:"mediumPlus"},maskedTextField0:{className:z.textField,content:"A value between 00 and 24.",mask:"99",label:"Hours",onClick:q,onRenderLabel:U,errorMessage:""},maskedTextField1:{className:z.textField,content:"A value between 00 and 59.",mask:"99",label:"Minutes",onClick:q,onRenderLabel:U}}),o=Object(m.a)(r,2),s=o[0],u=o[1],l=i.a.useMemo((function(){return B()((function(e){u((function(t){return F()(Object(b.a)({},t),"maskedTextField1.errorMessage",e)}))}),800)}),[]),d=i.a.useMemo((function(){return B()((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{maskedTextField0:Object(b.a)(Object(b.a)({},t.maskedTextField0),e)})}))}),800)}),[]),j=i.a.useCallback((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{maskedTextField0:Object(b.a)(Object(b.a)({},t.maskedTextField0),e)})}))}),[]),O={form:{onSubmit:i.a.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[])},text0:Object(b.a)({},s.text0),maskedTextField0:Object(b.a)(Object(b.a)({value:n},s.maskedTextField0),{},{onChange:i.a.useCallback((function(e,n){J({min:0,max:24,value:n})?(d.cancel(),j({errorMessage:""}),t({hours:n})):d({errorMessage:"00 - 24"})}),[d,j,t])}),maskedTextField1:Object(b.a)(Object(b.a)({value:c},s.maskedTextField1),{},{onChange:i.a.useCallback((function(e,n){J({min:0,max:59,value:n})?(t({minutes:n}),l("")):l("00 - 59")}),[l,t])})};return i.a.useEffect((function(){var e=24===Number(n);u((function(t){return Object(b.a)(Object(b.a)({},t),{},{maskedTextField1:Object(b.a)(Object(b.a)({},t.maskedTextField1),{},{disabled:e})})})),e&&t({minutes:"00"})}),[n,t]),Object(a.jsx)(G,Object(b.a)({},O))};Z.defaultProps={hours:"09",minutes:"02"};var _=i.a.memo(Z),K=n(37),Q=n(211),X=function(e){var t=e.show,n=e.detailsList,c=e.text;return t&&Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,Object(b.a)({},c)),Object(a.jsx)(Q.a,Object(b.a)({},n))]})};Q.a.defaultProps={show:!1,detailsList:{items:[{Name:"foo"},{Name:"bar"}]},text:{}};var $=i.a.memo(X),ee=n(213),te="YYYY-MM-DD HH:mm",ne=function(e){return function(e){var t=e.elem,n=e.startPos,a=e.endPos;t.selectionStart=n,t.selectionEnd=a}({elem:e,startPos:11,endPos:16})},ae="\ud83d\ude07Start Your Day",ce="Punch In",ie=function(e){var t=e.tooltipHost0,n=e.maskedTextField0;return Object(a.jsx)(ee.a,Object(b.a)(Object(b.a)({},t),{},{children:Object(a.jsx)(g.a,Object(b.a)({},n))}))},re=function(e){var t=e.value,n=e.errorMessage,c=e.onChange,r=e.onError,o=i.a.useState({tooltipHost0:{content:"In ".concat(te," format")},maskedTextField0:{mask:"9999-99-99 99:99"}}),s=Object(m.a)(o,1)[0],u={tooltipHost0:Object(b.a)({},s.tooltipHost0),maskedTextField0:Object(b.a)(Object(b.a)({value:t,errorMessage:n},s.maskedTextField0),{},{onClick:i.a.useCallback((function(e){var t=e.target;ne(t)}),[]),onChange:i.a.useCallback((function(e,t){Boolean(String(t).match(/_/))||(p()(t,te).isValid()?c(t):r("invalid date/time"))}),[c,r])})};return Object(a.jsx)(ie,Object(b.a)({},u))},oe=i.a.memo(re),se=n(210),ue=function(e){var t=e.showTextField,n=e.tooltipHost,c=e.maskedTextField0,i=e.primaryButton0;return t?Object(a.jsx)(ee.a,Object(b.a)(Object(b.a)({},n),{},{children:Object(a.jsx)(g.a,Object(b.a)({},c))})):Object(a.jsx)(O.a,{children:Object(a.jsx)(se.a,Object(b.a)({},i))})},le=Object(T.B)({primaryButton0Icon:{transform:"rotate(180deg)"}}),de=function(e){var t=e.value,n=e.onClick,c=e.onChange,r=e.onError,o=e.errorMessage,s=i.a.useState({tooltipHost:{content:"In ".concat(te," format")},maskedTextField0:{mask:"9999-99-99 99:99"},primaryButton0:{text:"Punch Out",iconProps:{className:le.primaryButton0Icon,iconName:"Leave"}}}),u=Object(m.a)(s,1)[0],l={showTextField:Boolean(t),tooltipHost:Object(b.a)({},u.tooltipHost),maskedTextField0:Object(b.a)(Object(b.a)({},u.maskedTextField0),{},{value:t,errorMessage:o,onClick:i.a.useCallback((function(e){ne(e.target)}),[]),onChange:i.a.useCallback((function(e,t){Boolean(String(t).match(/_/))||(p()(t,te).isValid()?c(t):r("invalid date/time"))}),[c,r])}),primaryButton0:Object(b.a)(Object(b.a)({},u.primaryButton0),{},{onClick:n})};return Object(a.jsx)(ue,Object(b.a)({},l))},je=i.a.memo(de),be=n(22),me=Object(T.B)({detailsList:{".ms-DetailsList-headerWrapper":{".ms-FocusZone.ms-DetailsHeader":{paddingTop:0,".ms-DetailsHeader-cell":{maxWidth:"50%",minWidth:"50%"}}},".ms-DetailsRow-fields":{display:"flex",".ms-DetailsRow-cell":{maxWidth:"50%",minWidth:"50%"}}}}),Oe=function(e){var t=e.newOutTime,n=e.modifiedItems,a=e.id,c=p()(t,"YYYY-MM-DD HH:mm"),i=n[Object(K.findIndex)(n,(function(e){return e.id===a}))];if(c>p()())return{isValid:!1,errorMessage:"> current-time"};if(c<p()(i.item.inTime))return{isValid:!1,errorMessage:"< in-time"};var r=Object(K.findIndex)(n,(function(e){return e.id===a}))+1;if(Boolean(n[r])){var o=n[r].item;if(c>p()(o.inTime))return{isValid:!1,errorMessage:"> next-slot-in-time"}}return{isValid:!0}},he=function(e){var t=e.slots,n=e.newInTime,a=e.item,c=p()(n,"YYYY-MM-DD HH:mm");if(c>p()())return{isValid:!1,errorMessage:"> than current-time"};var i=Object(K.findIndex)(t,(function(e){return a.id===e.id}));if(i>0){var r=t[i-1].item.outTime;if(c.valueOf()<=r)return{isValid:!1,errorMessage:"< prev out"}}var o=a.item.outTime;if(o&&o<=c.valueOf())return{isValid:!1,errorMessage:"> current out."};return{isValid:!0}},fe=function(e){var t=e.items,n=e.onUpdatePunchSlot,c=i.a.useState({text:{children:"\ud83d\udd70\ufe0fPunched Slots",variant:"mediumPlus"},detailsList:{className:me.detailsList,items:[],selectionMode:be.b.none,columns:[{id:Object(h.a)(),key:"punch-in-time",name:"In Time",fieldName:"punchInTime",isResizable:!1,onRender:function(e){var t=e.punchInTimeCell;return Object(a.jsx)(oe,Object(b.a)({},t))}},{id:Object(h.a)(),key:"punch-out-time",name:"Out Time",fieldName:"punchOutTime",isResizable:!1,onRender:function(e){var t=e.punchOutTimeCell;return Object(a.jsx)(je,Object(b.a)({},t))}}]}}),r=Object(m.a)(c,2),o=r[0],s=r[1],u={show:i.a.useMemo((function(){return Boolean(o.detailsList.items.length)}),[o.detailsList.items.length]),detailsList:Object(b.a)({},o.detailsList),text:Object(b.a)({},o.text)},l=i.a.useCallback((function(e){s((function(t){return Object(b.a)(Object(b.a)({},t),{},{detailsList:Object(b.a)(Object(b.a)({},t.detailsList),e)})}))}),[]),d=i.a.useCallback((function(e){s((function(t){var n=t.detailsList.items.map((function(t){return e.id===t.id?Object(K.merge)(t,e):t}));return Object(b.a)(Object(b.a)({},t),{},{detailsList:Object(b.a)(Object(b.a)({},t.detailsList),{},{items:n})})}))}),[]);return i.a.useEffect((function(){var e=t.map((function(t,a){return{item:t,id:t.id,punchInTimeCell:{value:p()(t.inTime).format(te),onChange:function(a){var c=he({newInTime:a,slots:e,item:e.find((function(e){return e.id===t.id}))}),i=c.isValid,r=c.errorMessage,o=void 0===r?"":r;d({id:t.id,punchInTimeCell:{errorMessage:o}}),i&&n({id:t.id,inTime:p()(a,te).valueOf()})},onError:function(e){return d({id:t.id,punchInTimeCell:{errorMessage:e}})}},punchOutTimeCell:{value:t.outTime&&p()(t.outTime).format(te),onChange:function(a){var c=Oe({newOutTime:a,modifiedItems:e,id:t.id}),i=c.isValid,r=c.errorMessage,o=void 0===r?"":r;d({id:t.id,punchOutTimeCell:{errorMessage:o}}),i&&n({id:t.id,outTime:p()(a,te).valueOf()})},onError:function(e){d({id:t.id,punchOutTimeCell:{errorMessage:e}})},onClick:function(){n({id:t.id,outTime:p()().valueOf()})}}}}));l({items:e})}),[t,l,d,n]),Object(a.jsx)($,Object(b.a)({},u))},pe=i.a.memo(fe),xe=n(98),Ce=function(e){var t=e.primaryButton,n=e.defaultButton,c=e.iconButton;return Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(se.a,Object(b.a)({},t)),Object(a.jsx)(xe.a,Object(b.a)({},n)),Object(a.jsx)(L.a,Object(b.a)({},c))]})},ve=function(e){var t=e.onClickPunchIn,n=e.onClickAddScheduledSlot,c=e.punchInText,r=e.showIcon,o=e.punchInDisabled,s={primaryButton:{text:c,iconProps:i.a.useMemo((function(){return r&&{iconName:"Leave"}}),[r]),disabled:o,onClick:t},defaultButton:{className:"ms-hiddenSm",text:"Add Scheduled Slot",iconProps:{iconName:"Add"},onClick:n},iconButton:{className:"ms-hiddenMdUp",iconProps:{iconName:"Add"},onClick:n}};return Object(a.jsx)(Ce,Object(b.a)({},s))},ke=i.a.memo(ve),Pe=n(214),ge=function(e){var t=e.form,n=e.maskedTextField0,c=e.maskedTextField1,i=e.primaryButton0;return Object(a.jsx)("form",Object(b.a)(Object(b.a)({},t),{},{children:Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(g.a,Object(b.a)({},n)),Object(a.jsx)(g.a,Object(b.a)({},c))]})}),Object(a.jsx)(se.a,Object(b.a)({},i))]})}))},Te="YYYY-MM-DD HH:mm",Se=function(e){var t=e.target;t.selectionStart=11,t.selectionEnd=16},Fe=function(e){return p()().add(e,"hours").startOf("hour").format(Te)},we=function(e){var t=e.onSubmit,n=i.a.useMemo((function(){return Object(T.B)({textField:{maxWidth:130}})}),[]),c=i.a.useState({maskedTextField0:{className:n.textField,label:"Start Time *",content:"In ".concat(Te," format..."),required:!0,mask:"9999-99-99 99:99",text:"Hello",onRenderLabel:function(e){return Object(a.jsx)(R,Object(b.a)({},e))},onClick:Se,value:Fe(1)},maskedTextField1:{className:n.textField,label:"End Time *",content:"In ".concat(Te," format..."),required:!0,mask:"9999-99-99 99:99",value:Fe(2),onClick:Se,onRenderLabel:function(e){return Object(a.jsx)(R,Object(b.a)({},e))}},primaryButton0:{type:"submit",text:"Add Slot",iconProps:{iconName:"Add"}}}),r=Object(m.a)(c,2),o=r[0],s=r[1],u=i.a.useCallback((function(e,t){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{maskedTextField0:Object(b.a)(Object(b.a)({},e.maskedTextField0),{},{value:t})})}))}),[]),l=i.a.useCallback((function(e,t){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{maskedTextField1:Object(b.a)(Object(b.a)({},e.maskedTextField1),{},{value:t})})}))}),[]),d=i.a.useCallback((function(){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{maskedTextField0:Object(b.a)(Object(b.a)({},e.maskedTextField0),{},{value:""}),maskedTextField1:Object(b.a)(Object(b.a)({},e.maskedTextField1),{},{value:""})})}))}),[]),j={form:{onSubmit:i.a.useCallback((function(e){e.preventDefault(),e.stopPropagation();var n=function(e){var t=e.inTime,n=e.outTime,a="YYYY-MM-DD HH:mm",c=p()(t,a),i=p()(n,a),r=i>c,o=c.isValid()&&i.isValid();return!(!r||!o)&&{inTime:c.valueOf(),outTime:i.valueOf()}}({inTime:o.maskedTextField0.value,outTime:o.maskedTextField1.value});n&&(t(Object(b.a)({id:Object(h.a)()},n)),d())}),[t,d,o.maskedTextField0.value,o.maskedTextField1.value])},maskedTextField0:Object(b.a)(Object(b.a)({},o.maskedTextField0),{},{onChange:u}),maskedTextField1:Object(b.a)(Object(b.a)({},o.maskedTextField1),{},{onChange:l}),primaryButton0:Object(b.a)({},o.primaryButton0)};return Object(a.jsx)(ge,Object(b.a)({},j))},Be=i.a.memo(we),Me=function(e){var t=e.show,n=e.panel,c=e.scheduledSlotForm;return t&&Object(a.jsx)(Pe.a,Object(b.a)(Object(b.a)({},n),{},{children:Object(a.jsx)(Be,Object(b.a)({},c))}))},De=function(e){var t=e.isOpen,n=e.onAddScheduledSlot,c=e.onDismiss,r=i.a.useState({panel:{isOpen:!1}}),o=Object(m.a)(r,2),s=o[0],u=o[1],l=i.a.useCallback((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{panel:Object(b.a)(Object(b.a)({},t.panel),e)})}))}),[]),d={show:s.panel.isOpen,scheduledSlotForm:{onSubmit:n},panel:Object(b.a)(Object(b.a)({},s.panel),{},{isLightDismiss:!0,headerText:"Add Scheduled Slot",onDismiss:i.a.useCallback((function(){l({isOpen:!1}),c()}),[l,c])})};return i.a.useEffect((function(){l({isOpen:t})}),[t,l]),Object(a.jsx)(Me,Object(b.a)({},d))},ye=i.a.memo(De),Le=n(219),Ie=function(e){var t=e.show,n=e.spinner;return t&&Object(a.jsx)(Le.a,Object(b.a)({},n))},Ne=function(e){var t={show:e.show};return Object(a.jsx)(Ie,Object(b.a)({},t))},Ae=i.a.memo(Ne),He=function(e){var t=e.inTextField;return Object(a.jsx)(oe,Object(b.a)({},t))},Ee=function(e){var t=e.outTextField;return Object(a.jsx)(oe,Object(b.a)({},t))},We=Object(T.B)({detailsList:{".ms-FocusZone.ms-DetailsHeader":{paddingTop:0},".ms-DetailsList-headerWrapper":{".ms-DetailsHeader-cell":{maxWidth:"calc(50% - 15px) !important",minWidth:"calc(50% - 15px) !important"},'.ms-DetailsHeader-cell[data-item-key="deleteicon"]':{width:"30px !important",maxWidth:"30px !important",minWidth:"30px !important"}},".ms-List-cell":{".ms-DetailsRow":{minWidth:"100% !important",".ms-DetailsRow-fields":{width:"100%",".deleteIconColumn.ms-DetailsRow-cell":{minWidth:"30px !important",maxWidth:"30px !important"},".ms-DetailsRow-cell":{minWidth:"calc(50% - 15px)",maxWidth:"calc(50% - 15px)"}}}}}}),Ye=function(e){var t=e.items,n=e.onDeleteSlot,c=e.onChangeSlot,r=i.a.useState({detailsList:{items:[]}}),o=Object(m.a)(r,2),s=o[0],u=o[1],l=i.a.useCallback((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{detailsList:Object(b.a)(Object(b.a)({},t.detailsList),e)})}))}),[]),d={show:Boolean(t.length),detailsList:Object(b.a)(Object(b.a)({},s.detailsList),{},{className:We.detailsList,selectionMode:be.b.none,columns:[{key:"inTime",name:"In Time",onRender:He},{key:"outTime",name:"Out Time",onRender:Ee},{key:"deleteicon",className:"deleteIconColumn",onRender:function(e){var t=e.deleteIconButton;return Object(a.jsx)(L.a,Object(b.a)({iconProps:{iconName:"Trash"}},t))}}]}),text:{children:"\ud83d\udd5aScheduled Slots",variant:"mediumPlus"}};return i.a.useEffect((function(){var e=t.map((function(t){return{id:t.id,item:t,inTextField:{value:p()(t.inTime).format(te),onError:function(n){return l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{inTextField:Object(b.a)(Object(b.a)({},e.inTextField),{},{errorMessage:n})}):e}))})},onChange:function(n){var a=he({newInTime:n,slots:e,item:e.find((function(e){return e.id===t.id}))}),i=a.isValid,r=a.errorMessage,o=void 0===r?"":r;l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{inTextField:Object(b.a)(Object(b.a)({},e.inTextField),{},{errorMessage:o})}):e}))}),i&&c({id:t.id,inTime:p()(n,te).valueOf()})}},outTextField:{value:p()(t.outTime).format(te),onError:function(n){return l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{outTextField:Object(b.a)(Object(b.a)({},e.outTextField),{},{errorMessage:n})}):e}))})},onChange:function(n){var a=Oe({newOutTime:n,modifiedItems:e,id:t.id}),i=a.isValid,r=a.errorMessage,o=void 0===r?"":r;l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{outTextField:Object(b.a)(Object(b.a)({},e.outTextField),{},{errorMessage:o})}):e}))}),i&&c({id:t.id,outTime:p()(n,te).valueOf()})}},deleteIconButton:{onClick:function(){return n(t)}}}}));l({items:e})}),[l,t,n,c]),Object(a.jsx)($,Object(b.a)({},d))},Re=i.a.memo(Ye),Ve=n(225),Ge=n(7),ze=Object(T.B)({messageBar:{maxWidth:185}}),Ue=function(e){var t=e.messageBar,n=e.content;return Object(a.jsx)(Ve.a,Object(b.a)(Object(b.a)({},t),{},{children:n}))},qe=function(e){var t=e.minutesLeft,n=i.a.useState({hoursLeft:0,messageBar:{className:ze.messageBar,messageBarType:Ge.a.info}}),c=Object(m.a)(n,2),r=c[0],o=c[1],s={messageBar:Object(b.a)({},r.messageBar),content:i.a.useMemo((function(){return"".concat(r.hoursLeft," hrs to go...")}),[r.hoursLeft])};return i.a.useEffect((function(){var e=function(e){if(!e)return"00:00";var t=Math.floor(e/60),n=e%60;return n=n<10?"0"+n:n,"".concat(t=t<10?"0"+t:t,":").concat(n)}(t);o((function(t){return Object(b.a)(Object(b.a)({},t),{},{hoursLeft:e})}))}),[t]),Object(a.jsx)(Ue,Object(b.a)({},s))},Je=i.a.memo(qe),Ze=function(e){var t=e.show,n=e.text,c=e.goalForTheDayForm,i=e.punchedSlots,r=e.punchCardButtons,o=e.punchedProgress,s=e.addScheduledSlotPanel,u=e.spinner,l=e.scheduledSlots,d=e.scheduledProgress,j=e.infoBar;return t&&Object(a.jsxs)(O.a,{vertical:!0,tokens:{childrenGap:10},children:[Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(x.a,Object(b.a)({},n))," ",Object(a.jsx)(Ae,Object(b.a)({},u))]}),Object(a.jsx)(ye,Object(b.a)({},s)),Object(a.jsx)(_,Object(b.a)({},c)),Object(a.jsx)(Je,Object(b.a)({},j)),Object(a.jsx)(pe,Object(b.a)({},i)),Object(a.jsx)(ke,Object(b.a)({},r)),Object(a.jsx)(Re,Object(b.a)({},l)),Object(a.jsx)(P,Object(b.a)({},o)),Object(a.jsx)("div",{dir:"rtl",children:Object(a.jsx)(P,Object(b.a)({},d))})]})},_e=ae,Ke=ce,Qe=function(e){var t=e.slots;return t.length?t.reduce((function(e,t){var n=t.inTime,a=t.outTime;return n&&a?p()(a).diff(n,"minutes")+e:e}),0):0},Xe=function(e){var t=e.id,n=e.punchedSlots,c=e.title,r=e.goalForTheDay,o=e.scheduledSlots,s=e.onUpdatePunchSlot,u=e.onAddPunchedSlot,O=e.onAddScheduledSlot,f=e.onDeleteScheduledSlot,p=e.onChangeScheduledSlot,C=e.onChangeGoal,v=i.a.useState({goaInMinutes:0,minutesLeft:0,punchedMinutes:0,scheduledMinutes:0,punchedPercent:0,scheduledPercent:0,addScheduledSlotPanel:{isOpen:!1},spinner:{show:!1},punchedProgress:{label:Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\u23f3Punched"})},scheduledProgress:{label:Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\ud83d\udd5a Scheduled "})}}),k=Object(m.a)(v,2),P=k[0],g=k[1],T=i.a.useCallback((function(e){g((function(t){return Object(b.a)(Object(b.a)({},t),{},{addScheduledSlotPanel:Object(b.a)(Object(b.a)({},t.addScheduledSlotPanel),e)})}))}),[]),S=i.a.useCallback((function(e){g((function(t){return Object(b.a)(Object(b.a)({},t),{},{spinner:Object(b.a)(Object(b.a)({},t.spinner),e)})}))}),[]),F={show:i.a.useMemo((function(){return Boolean(t)}),[t]),spinner:Object(b.a)({},P.spinner),text:{children:c,variant:"large"},goalForTheDayForm:Object(b.a)(Object(b.a)({},r),{},{onChangeGoal:i.a.useCallback((function(e){C({id:t,goalForTheDay:Object(b.a)(Object(b.a)({},r),e)})}),[C,r,t])}),punchedSlots:{onUpdatePunchSlot:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({show:!0}),e.prev=1,c=n.map((function(e){return a.id===e.id?Object(b.a)(Object(b.a)({},e),a):e})),e.next=5,s({id:t,punchedSlots:c});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("punch-slot did not update",e.t0);case 10:return e.prev=10,S({show:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),[n,s,S,t]),items:n},punchCardButtons:{punchInText:i.a.useMemo((function(){return e=n.length,Boolean(e)?Ke:_e;var e}),[n.length]),onClickPunchIn:i.a.useCallback((function(){var e={id:Object(h.a)(),inTime:Date.now(),outTime:null};u({id:t,punchedSlots:[].concat(Object(d.a)(n),[e])})}),[u,n,t]),onClickAddScheduledSlot:i.a.useCallback((function(){T({isOpen:!0})}),[T]),punchInDisabled:i.a.useMemo((function(){return!function(e){var t=e.items;if(!t.length)return!0;var n=t[t.length-1].outTime;return Boolean(n)}({items:n})}),[n]),showIcon:i.a.useMemo((function(){return Boolean(n.length)}),[n.length])},punchedProgress:Object(b.a)(Object(b.a)({},P.punchedProgress),{},{show:i.a.useMemo((function(){return Boolean(n.length)}),[n.length]),progress:P.punchedPercent}),addScheduledSlotPanel:Object(b.a)(Object(b.a)({},P.addScheduledSlotPanel),{},{onAddScheduledSlot:i.a.useCallback((function(e){O({id:t,scheduledSlots:[].concat(Object(d.a)(o),[e])}),T({isOpen:!1})}),[T,O,o,t]),onDismiss:i.a.useCallback((function(){T({isOpen:!1})}),[T])}),scheduledSlots:{items:o,onDeleteSlot:i.a.useCallback((function(e){var n=o.filter((function(t){return t.id!==e.id}));f({id:t,scheduledSlots:n})}),[f,o,t]),onChangeSlot:i.a.useCallback((function(e){var n=o.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),e):t}));p({id:t,scheduledSlots:n})}),[p,o,t])},scheduledProgress:Object(b.a)(Object(b.a)({},P.scheduledProgress),{},{show:i.a.useMemo((function(){return Boolean(o.length)}),[o.length]),progress:P.scheduledPercent}),infoBar:{minutesLeft:i.a.useMemo((function(){return P.minutesLeft}),[P.minutesLeft])}};return i.a.useEffect((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hours,n=void 0===t?"00":t,a=e.minutes,c=void 0===a?"00":a;return 60*Number(n)+Number(c)}(r),t=Qe({slots:n}),a=Qe({slots:o}),c=e?t/e:0,i=e?a/e:0,s=e?e-t:0;g((function(n){return Object(b.a)(Object(b.a)({},n),{},{goalInMinutes:e,punchedMinutes:t,scheduledMinutes:a,punchedPercent:c,scheduledPercent:i,minutesLeft:s})}))}),[n,r,o]),Object(a.jsx)(Ze,Object(b.a)({},F))};Xe.defaultProps={punchedSlots:[],scheduledSlots:[]};var $e=i.a.memo(Xe),et=n(97),tt=function(e){var t=e.textField0,n=e.iconButton0,c=e.primaryButton0,i=e.form;return Object(a.jsx)("form",Object(b.a)(Object(b.a)({},i),{},{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(et.a,Object(b.a)({},t)),Object(a.jsx)(L.a,Object(b.a)({},n)),Object(a.jsx)(se.a,Object(b.a)({},c))]})}))},nt=function(e){var t=e.onSubmit,n=i.a.useState({textField0:{value:"",placeholder:"Punch Card Name..."},iconButton0:{type:"submit",className:"ms-hiddenMdUp",title:"Add Punch Card",iconProps:{iconName:"Add"}},primaryButton0:{className:"ms-hiddenSm",type:"submit",iconProps:{iconName:"Add"},text:"Add Punch Card",title:"Add Punch Card"}}),c=Object(m.a)(n,2),r=c[0],o=c[1],s=i.a.useCallback((function(e,t){o((function(e){return Object(b.a)(Object(b.a)({},e),{},{textField0:Object(b.a)(Object(b.a)({},e.textField0),{},{value:t})})}))}),[]),u={textField0:Object(b.a)(Object(b.a)({},r.textField0),{},{onChange:s}),iconButton0:Object(b.a)(Object(b.a)({},r.iconButton0),{},{disabled:!r.textField0.value.trim()}),primaryButton0:Object(b.a)(Object(b.a)({},r.primaryButton0),{},{disabled:!r.textField0.value.trim()}),form:{onSubmit:i.a.useCallback((function(e){e.preventDefault(),e.stopPropagation(),t(r.textField0.value),s(null,"")}),[r.textField0.value,t,s])}};return Object(a.jsx)(tt,Object(b.a)({},u))},at=i.a.memo(nt),ct=function(e){var t=e.iconButton0,n=e.iconButton1,c=e.text;return Object(a.jsxs)(x.a,{variant:"large",as:"em",children:[Object(a.jsx)(L.a,Object(b.a)({},t)),c,Object(a.jsx)(L.a,Object(b.a)({},n))]})},it=function(e){var t={iconButton0:{primary:!0,iconProps:{iconName:"Edit"},onClick:e.onEdit},iconButton1:{iconProps:{iconName:"Delete"},onClick:e.onDelete},text:e.title};return Object(a.jsx)(ct,Object(b.a)({},t))},rt=i.a.memo(it),ot=function(e){var t=e.punchCards;return Array.isArray(t)&&t.map((function(e){return Object(a.jsx)(rt,Object(b.a)({},e),e.id)}))},st=i.a.memo(ot),ut=function(e){var t=e.show,n=e.panel,c=e.punchCardsList;return t&&Object(a.jsx)(Pe.a,Object(b.a)(Object(b.a)({},n),{},{children:Object(a.jsx)(O.a,{vertical:!0,children:Object(a.jsx)(st,Object(b.a)({},c))})}))};ut.defaultProps={show:!1};var lt=function(e){var t=e.items,n=e.isOpen,c=e.onDismiss,r=e.onDeletePunchCard,o=e.onSelectPunchCard,s=i.a.useState({panel:{isOpen:!0},punchCardsList:{punchCards:[]}}),u=Object(m.a)(s,2),l=u[0],d=u[1],j=i.a.useCallback((function(e){d((function(t){return Object(b.a)(Object(b.a)({},t),{},{punchCardsList:Object(b.a)(Object(b.a)({},t.punchCardsList),e)})}))}),[]),O={show:n,panel:{isOpen:n,onDismiss:c,headerText:"Punch Cards"},punchCardsList:Object(b.a)({},l.punchCardsList)};return i.a.useEffect((function(){var e=t.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{onEdit:function(){return o(e.id)},onDelete:function(){return r(e.id)}})}));j({punchCards:e})}),[t,j,o,r]),Object(a.jsx)(ut,Object(b.a)({},O))};lt.defaultProps={items:[]};var dt=i.a.memo(lt),jt=function(e){var t=e.iconButton0,n=e.defaultButotn0,c=e.punchCardsPanel;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L.a,Object(b.a)({},t)),Object(a.jsx)(xe.a,Object(b.a)({},n)),Object(a.jsx)(dt,Object(b.a)({},c))]})},bt=function(e){var t=e.onClick,n=e.disabled,c={iconButton0:{type:"submit",disabled:n,className:"ms-hiddenMdUp",title:"Show Punch Cards",iconProps:{iconName:"RedEye"},onClick:t},defaultButotn0:{className:"ms-hiddenSm",disabled:n,type:"submit",iconProps:{iconName:"RedEye"},text:"Show Punch Cards",title:"Show Punch Cards",onClick:t},punchCardsPanel:{items:e.items,isOpen:e.isOpenPanel,onDismiss:e.onDismiss,onDeletePunchCard:e.onDeletePunchCard,onSelectPunchCard:e.onSelectPunchCard}};return Object(a.jsx)(jt,Object(b.a)({},c))};bt.defaultProps={items:[]};var mt=i.a.memo(bt),Ot=function(e){var t=e.selectedPunchCard,n=e.newPunchCardForm,c=e.punchCardsPanel,i=e.showPunchCardsButton;return Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(at,Object(b.a)({},n)),Object(a.jsx)(mt,Object(b.a)({},i))]})}),Object(a.jsx)($e,Object(b.a)({},t)),Object(a.jsx)(dt,Object(b.a)({},c))]})},ht=function(e){var t=e.onAddPunchCard,n=e.punchCards,c=e.selectedPunchCard,r=e.isOpenPunchCardsPanel,o=e.onDismissPunchCardPanel,s=e.onDeletePunchCard,u=e.onSelectPunchCard,d=e.onClickShowPunchCardsButton,m=e.onEditPunchCard,O={selectedPunchCard:Object(b.a)(Object(b.a)({},c),{},{onChangeGoal:m,onUpdatePunchSlot:m,onAddPunchedSlot:m,onAddScheduledSlot:m,onDeleteScheduledSlot:m,onChangeScheduledSlot:m}),newPunchCardForm:{onSubmit:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])},showPunchCardsButton:{isOpenPanel:r,items:n,onDeletePunchCard:s,onSelectPunchCard:u,onDismiss:o,disabled:i.a.useMemo((function(){return!n.length}),[n.length]),onClick:d}};return Object(a.jsx)(Ot,Object(b.a)({},O))};ht.defaultProps={punchCards:[],isOpenPunchCardsPanel:!1};var ft=i.a.memo(ht),pt=new(n(95).a)("MyDb");pt.version(1).stores({punchCards:"++id"}),pt.open();var xt=pt,Ct=function(){var e=i.a.useState({punchCards:[],selectedPunchCard:null,isOpenPunchCardsPanel:!1}),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(b.a)(Object(b.a)({},n),{},{onAddPunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:Object(h.a)(),title:t,punchedSlots:[],scheduledSlots:[],goalForTheDay:{hours:"09",minutes:"00"}},e.next=3,xt.punchCards.add(n);case 3:c((function(e){return{punchCards:[n].concat(Object(d.a)(e.punchCards)),isOpenPunchCardsPanel:!0}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onDismissPunchCardPanel:i.a.useCallback((function(){c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:!1})}))}),[]),onOpenPunchCardPanel:i.a.useCallback((function(){c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:!0})}))}),[]),onDeletePunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.punchCards.delete(t);case 2:c((function(e){var n=e.punchCards.filter((function(e){return t!==e.id})),a=Boolean(n.length),c=e.selectedPunchCard?t===e.selectedPunchCard.id?null:e.selectedPunchCard:null;return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:a,punchCards:n,selectedPunchCard:c})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onSelectPunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.punchCards.get(t);case 2:n=e.sent,c((function(e){return Object(b.a)(Object(b.a)({},e),{},{selectedPunchCard:n,isOpenPunchCardsPanel:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onEditPunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=Object(s.a)(t,["id"]),e.next=3,xt.punchCards.update(n,a);case 3:c((function(e){var t=e.punchCards.map((function(e){return e.id===n?Object(b.a)(Object(b.a)({},e),a):e}));return console.log({update:a}),Object(b.a)(Object(b.a)({},e),{},{punchCards:t,selectedPunchCard:Object(b.a)(Object(b.a)({},e.selectedPunchCard),a)})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onClickShowPunchCardsButton:i.a.useCallback((function(){c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:!0})}))}),[])});return i.a.useEffect((function(){xt.punchCards.toArray((function(e){e.length&&c((function(t){return{punchCards:e,isOpenPunchCardsPanel:!0}}))}))}),[]),Object(a.jsx)(ft,Object(b.a)({},r))},vt=i.a.memo(Ct),kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},Pt=(n(166),n(96));Object(Pt.a)(),o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(vt,{})}),document.getElementById("root")),kt(console.log)}},[[167,1,2]]]);
//# sourceMappingURL=main.c9564459.chunk.js.map