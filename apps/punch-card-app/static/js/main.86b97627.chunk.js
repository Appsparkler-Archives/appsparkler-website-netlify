(this["webpackJsonptime-tool"]=this["webpackJsonptime-tool"]||[]).push([[0],{166:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),i=n.n(c),r=n(46),s=n.n(r),o=n(99),u=n(16),l=n.n(u),d=n(36),j=n(26),m=n(2),b=n(12),O=n(219),h=n(218),f=n(11),p=n.n(f),x=n(224),v=n(229),C=n(5),P=n(84),g=n.n(P),k=n(70),T=n.n(k),S=n(208),F=n(209),w=n(222),B=n(228),D=n(216),M=n(71),y=n.n(M),L=function(e){var t=e.show,n=e.children;return t&&n};L.propTypes={show:y.a.bool,children:y.a.any},L.defaultProps={show:!0,children:null};var N=i.a.memo(L),I=function(e){var t=e.showCallout,n=e.label,c=e.iconButton,i=e.labelWrapperStack,r=e.contentWrapperStack,s=e.calloutContent,o=e.callout;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(O.a,Object(m.a)(Object(m.a)({},i),{},{children:[Object(a.jsx)(w.a,{children:n}),Object(a.jsx)(B.a,Object(m.a)({},c))]})),Object(a.jsx)(N,{show:t,children:Object(a.jsx)(D.a,Object(m.a)(Object(m.a)({},o),{},{children:Object(a.jsx)(O.a,Object(m.a)(Object(m.a)({},r),{},{children:Object(a.jsx)("span",{children:s})}))}))})]})},A=i.a.memo(I),H=function(e){var t=function(e){var t=e.label,n=void 0===t?"":t,c=e.content,r=void 0===c?"":c,s=Object(S.a)(),o=Object(F.a)(!1),u=Object(b.a)(o,2),l=u[0],d=u[1].toggle;return{labelWrapperStack:{horizontal:!0,verticalAlign:"center",tokens:{childrenGap:4,maxWidth:300}},label:n,callout:{target:"#".concat(s),onDismiss:d},iconButton:{id:s,styles:{root:{marginBottom:-3}},title:"Info",iconProps:{iconName:"Info"},onClick:i.a.useCallback((function(){d()}),[d])},showCallout:l,contentWrapperStack:{styles:{root:{padding:10,maxWidth:200}}},calloutContent:Object(a.jsx)(x.a,{variant:"small",children:r})}}({label:e.label,content:e.content});return Object(a.jsx)(A,Object(m.a)({},t))},E=i.a.memo(H),G=function(e){var t=e.text0,n=e.form,c=e.maskedTextField0,i=e.maskedTextField1;return Object(a.jsxs)("form",Object(m.a)(Object(m.a)({},n),{},{children:[Object(a.jsx)(x.a,Object(m.a)({},t)),Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(v.a,Object(m.a)({},c)),Object(a.jsx)(v.a,Object(m.a)({},i))]})]}))},W=Object(C.B)({textField:{maxWidth:90}}),Y=function(e){return Object(a.jsx)(E,Object(m.a)({},e))},R=function(e){var t=e.target;t.select(),t.select(0,99999)},V=function(e){var t=e.min,n=e.max,a=e.value,c=Number(a,10);if(!isNaN(c)){var i=c<Number(t),r=c>Number(n);return!i&&!r}return!1},z=function(e){var t=e.onChangeGoal,n=e.hours,c=e.minutes,r=i.a.useState({text0:{children:"\ud83c\udfafGoal For The Day",variant:"mediumPlus"},maskedTextField0:{className:W.textField,content:"A value between 00 and 24.",mask:"99",label:"Hours",onClick:R,onRenderLabel:Y,errorMessage:""},maskedTextField1:{className:W.textField,content:"A value between 00 and 59.",mask:"99",label:"Minutes",onClick:R,onRenderLabel:Y}}),s=Object(b.a)(r,2),o=s[0],u=s[1],l=i.a.useMemo((function(){return T()((function(e){u((function(t){return g()(Object(m.a)({},t),"maskedTextField1.errorMessage",e)}))}),800)}),[]),d=i.a.useMemo((function(){return T()((function(e){u((function(t){return Object(m.a)(Object(m.a)({},t),{},{maskedTextField0:Object(m.a)(Object(m.a)({},t.maskedTextField0),e)})}))}),800)}),[]),j=i.a.useCallback((function(e){u((function(t){return Object(m.a)(Object(m.a)({},t),{},{maskedTextField0:Object(m.a)(Object(m.a)({},t.maskedTextField0),e)})}))}),[]),O={form:{onSubmit:i.a.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[])},text0:Object(m.a)({},o.text0),maskedTextField0:Object(m.a)(Object(m.a)({value:n},o.maskedTextField0),{},{onChange:i.a.useCallback((function(e,n){V({min:0,max:24,value:n})?(d.cancel(),j({errorMessage:""}),t({hours:n})):d({errorMessage:"00 - 24"})}),[d,j,t])}),maskedTextField1:Object(m.a)(Object(m.a)({value:c},o.maskedTextField1),{},{onChange:i.a.useCallback((function(e,n){V({min:0,max:59,value:n})?(t({minutes:n}),l("")):l("00 - 59")}),[l,t])})};return i.a.useEffect((function(){var e=24===Number(n);u((function(t){return Object(m.a)(Object(m.a)({},t),{},{maskedTextField1:Object(m.a)(Object(m.a)({},t.maskedTextField1),{},{disabled:e})})})),e&&t({minutes:"00"})}),[n,t]),Object(a.jsx)(G,Object(m.a)({},O))};z.defaultProps={hours:"09",minutes:"02"};var U=i.a.memo(z),X=n(37),q=n(212),J=function(e){var t=e.show,n=e.detailsList,c=e.text;return t&&Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,Object(m.a)({},c)),Object(a.jsx)(q.a,Object(m.a)({},n))]})};q.a.defaultProps={show:!1,detailsList:{items:[{Name:"foo"},{Name:"bar"}]},text:{}};var Z=i.a.memo(J),_=n(214),K="YYYY-MM-DD HH:mm",Q=function(e){return function(e){var t=e.elem,n=e.startPos,a=e.endPos;t.selectionStart=n,t.selectionEnd=a}({elem:e,startPos:11,endPos:16})},$="\ud83d\ude07Start Your Day",ee="Punch In",te=function(e){if(!e||isNaN(Number(e)))return"00:00";var t=e<0?"- ":"";e=Math.abs(e);var n=Math.floor(e/60),a=e%60;return n=n<10?"0"+n:n,a=a<10?"0"+a:a,"".concat(t).concat(n,":").concat(a)},ne=function(e){var t=e.tooltipHost0,n=e.maskedTextField0;return Object(a.jsx)(_.a,Object(m.a)(Object(m.a)({},t),{},{children:Object(a.jsx)(v.a,Object(m.a)({},n))}))},ae=function(e){var t=e.value,n=e.errorMessage,c=e.onChange,r=e.onError,s=i.a.useState({tooltipHost0:{content:"In ".concat(K," format")},maskedTextField0:{mask:"9999-99-99 99:99"}}),o=Object(b.a)(s,1)[0],u={tooltipHost0:Object(m.a)({},o.tooltipHost0),maskedTextField0:Object(m.a)(Object(m.a)({value:t,errorMessage:n},o.maskedTextField0),{},{onClick:i.a.useCallback((function(e){var t=e.target;Q(t)}),[]),onChange:i.a.useCallback((function(e,t){Boolean(String(t).match(/_/))||(p()(t,K).isValid()?c(t):r("invalid date/time"))}),[c,r])})};return Object(a.jsx)(ne,Object(m.a)({},u))},ce=i.a.memo(ae),ie=n(211),re=function(e){var t=e.showTextField,n=e.tooltipHost,c=e.maskedTextField0,i=e.primaryButton0;return t?Object(a.jsx)(_.a,Object(m.a)(Object(m.a)({},n),{},{children:Object(a.jsx)(v.a,Object(m.a)({},c))})):Object(a.jsx)(O.a,{children:Object(a.jsx)(ie.a,Object(m.a)({},i))})},se=Object(C.B)({primaryButton0Icon:{transform:"rotate(180deg)"}}),oe=function(e){var t=e.value,n=e.onClick,c=e.onChange,r=e.onError,s=e.errorMessage,o=i.a.useState({tooltipHost:{content:"In ".concat(K," format")},maskedTextField0:{mask:"9999-99-99 99:99"},primaryButton0:{text:"Punch Out",iconProps:{className:se.primaryButton0Icon,iconName:"Leave"}}}),u=Object(b.a)(o,1)[0],l={showTextField:Boolean(t),tooltipHost:Object(m.a)({},u.tooltipHost),maskedTextField0:Object(m.a)(Object(m.a)({},u.maskedTextField0),{},{value:t,errorMessage:s,onClick:i.a.useCallback((function(e){Q(e.target)}),[]),onChange:i.a.useCallback((function(e,t){Boolean(String(t).match(/_/))||(p()(t,K).isValid()?c(t):r("invalid date/time"))}),[c,r])}),primaryButton0:Object(m.a)(Object(m.a)({},u.primaryButton0),{},{onClick:n})};return Object(a.jsx)(re,Object(m.a)({},l))},ue=i.a.memo(oe),le=n(22),de=Object(C.B)({detailsList:{".ms-DetailsList-headerWrapper":{".ms-FocusZone.ms-DetailsHeader":{paddingTop:0,".ms-DetailsHeader-cell":{maxWidth:"50%",minWidth:"50%"}}},".ms-DetailsRow-fields":{display:"flex",".ms-DetailsRow-cell":{maxWidth:"50%",minWidth:"50%"}}}}),je=function(e){var t=e.newOutTime,n=e.modifiedItems,a=e.id,c=e.verifyIsGreaterThanNow,i=void 0===c||c,r=p()(t,"YYYY-MM-DD HH:mm"),s=n[Object(X.findIndex)(n,(function(e){return e.id===a}))];if(i&&r>p()())return{isValid:!1,errorMessage:"> current-time"};if(r<p()(s.item.inTime))return{isValid:!1,errorMessage:"< in-time"};var o=Object(X.findIndex)(n,(function(e){return e.id===a}))+1;if(Boolean(n[o])){var u=n[o].item;if(r>p()(u.inTime))return{isValid:!1,errorMessage:"> next-slot-in-time"}}return{isValid:!0}},me=function(e){var t=e.slots,n=e.newInTime,a=e.item,c=e.verifyIsGreaterThanNow,i=void 0===c||c,r=p()(n,"YYYY-MM-DD HH:mm");if(i&&r>p()())return{isValid:!1,errorMessage:"> than current-time"};var s=Object(X.findIndex)(t,(function(e){return a.id===e.id}));if(s>0){var o=t[s-1].item.outTime;if(r.valueOf()<=o)return{isValid:!1,errorMessage:"< prev out"}}var u=a.item.outTime;if(u&&u<=r.valueOf())return{isValid:!1,errorMessage:"> current out."};return{isValid:!0}},be=function(e){var t=e.items,n=e.onUpdatePunchSlot,c=i.a.useState({text:{children:"\ud83d\udd70\ufe0fPunched Slots",variant:"mediumPlus"},detailsList:{className:de.detailsList,items:[],selectionMode:le.b.none,columns:[{id:Object(h.a)(),key:"punch-in-time",name:"In Time",fieldName:"punchInTime",isResizable:!1,onRender:function(e){var t=e.punchInTimeCell;return Object(a.jsx)(ce,Object(m.a)({},t))}},{id:Object(h.a)(),key:"punch-out-time",name:"Out Time",fieldName:"punchOutTime",isResizable:!1,onRender:function(e){var t=e.punchOutTimeCell;return Object(a.jsx)(ue,Object(m.a)({},t))}}]}}),r=Object(b.a)(c,2),s=r[0],o=r[1],u={show:i.a.useMemo((function(){return Boolean(s.detailsList.items.length)}),[s.detailsList.items.length]),detailsList:Object(m.a)({},s.detailsList),text:Object(m.a)({},s.text)},l=i.a.useCallback((function(e){o((function(t){return Object(m.a)(Object(m.a)({},t),{},{detailsList:Object(m.a)(Object(m.a)({},t.detailsList),e)})}))}),[]),d=i.a.useCallback((function(e){o((function(t){var n=t.detailsList.items.map((function(t){return e.id===t.id?Object(X.merge)(t,e):t}));return Object(m.a)(Object(m.a)({},t),{},{detailsList:Object(m.a)(Object(m.a)({},t.detailsList),{},{items:n})})}))}),[]);return i.a.useEffect((function(){var e=t.map((function(t,a){return{item:t,id:t.id,punchInTimeCell:{value:p()(t.inTime).format(K),onChange:function(a){var c=me({newInTime:a,slots:e,item:e.find((function(e){return e.id===t.id}))}),i=c.isValid,r=c.errorMessage,s=void 0===r?"":r;d({id:t.id,punchInTimeCell:{errorMessage:s}}),i&&n({id:t.id,inTime:p()(a,K).valueOf()})},onError:function(e){return d({id:t.id,punchInTimeCell:{errorMessage:e}})}},punchOutTimeCell:{value:t.outTime&&p()(t.outTime).format(K),onChange:function(a){var c=je({newOutTime:a,modifiedItems:e,id:t.id}),i=c.isValid,r=c.errorMessage,s=void 0===r?"":r;d({id:t.id,punchOutTimeCell:{errorMessage:s}}),i&&n({id:t.id,outTime:p()(a,K).valueOf()})},onError:function(e){d({id:t.id,punchOutTimeCell:{errorMessage:e}})},onClick:function(){n({id:t.id,outTime:p()().valueOf()})}}}}));l({items:e})}),[t,l,d,n]),Object(a.jsx)(Z,Object(m.a)({},u))},Oe=i.a.memo(be),he=n(215),fe=function(e){var t=e.form,n=e.maskedTextField0,c=e.maskedTextField1,i=e.primaryButton0;return Object(a.jsx)("form",Object(m.a)(Object(m.a)({},t),{},{children:Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(v.a,Object(m.a)({},n)),Object(a.jsx)(v.a,Object(m.a)({},c))]})}),Object(a.jsx)(ie.a,Object(m.a)({},i))]})}))},pe="YYYY-MM-DD HH:mm",xe=function(e){var t=e.target;t.selectionStart=11,t.selectionEnd=16},ve=function(e){return p()().add(e,"hours").startOf("hour").format(pe)},Ce=function(e){var t=e.onSubmit,n=e.initialInTime,c=e.initialOutTime,r=i.a.useMemo((function(){return Object(C.B)({textField:{maxWidth:130}})}),[]),s=i.a.useState({maskedTextField0:{className:r.textField,label:"Start Time *",content:"In ".concat(pe," format..."),required:!0,mask:"9999-99-99 99:99",text:"Hello",onRenderLabel:function(e){return Object(a.jsx)(E,Object(m.a)({},e))},onClick:xe,value:n||ve(1)},maskedTextField1:{className:r.textField,label:"End Time *",content:"In ".concat(pe," format..."),required:!0,mask:"9999-99-99 99:99",value:c||ve(2),onClick:xe,onRenderLabel:function(e){return Object(a.jsx)(E,Object(m.a)({},e))}},primaryButton0:{type:"submit",text:"Add Slot",iconProps:{iconName:"Add"}}}),o=Object(b.a)(s,2),u=o[0],l=o[1],d=i.a.useCallback((function(e,t){l((function(e){return Object(m.a)(Object(m.a)({},e),{},{maskedTextField0:Object(m.a)(Object(m.a)({},e.maskedTextField0),{},{value:t})})}))}),[]),j=i.a.useCallback((function(e,t){l((function(e){return Object(m.a)(Object(m.a)({},e),{},{maskedTextField1:Object(m.a)(Object(m.a)({},e.maskedTextField1),{},{value:t})})}))}),[]),O=i.a.useCallback((function(){l((function(e){return Object(m.a)(Object(m.a)({},e),{},{maskedTextField0:Object(m.a)(Object(m.a)({},e.maskedTextField0),{},{value:""}),maskedTextField1:Object(m.a)(Object(m.a)({},e.maskedTextField1),{},{value:""})})}))}),[]),f={form:{onSubmit:i.a.useCallback((function(e){e.preventDefault(),e.stopPropagation();var n=function(e){var t=e.inTime,n=e.outTime,a="YYYY-MM-DD HH:mm",c=p()(t,a),i=p()(n,a),r=i>c,s=c.isValid()&&i.isValid();return!(!r||!s)&&{inTime:c.valueOf(),outTime:i.valueOf()}}({inTime:u.maskedTextField0.value,outTime:u.maskedTextField1.value});n&&(t(Object(m.a)({id:Object(h.a)()},n)),O())}),[t,O,u.maskedTextField0.value,u.maskedTextField1.value])},maskedTextField0:Object(m.a)(Object(m.a)({},u.maskedTextField0),{},{onChange:d}),maskedTextField1:Object(m.a)(Object(m.a)({},u.maskedTextField1),{},{onChange:j}),primaryButton0:Object(m.a)({},u.primaryButton0)};return Object(a.jsx)(fe,Object(m.a)({},f))},Pe=i.a.memo(Ce),ge=function(e){e.show;var t=e.panel,n=e.scheduledSlotForm;return Object(a.jsx)(he.a,Object(m.a)(Object(m.a)({},t),{},{children:Object(a.jsx)(Pe,Object(m.a)({},n))}))},ke=function(e){var t=e.isOpen,n={scheduledSlotForm:{onSubmit:e.onAddScheduledSlot},panel:{isOpen:t,isLightDismiss:!0,headerText:"Add Scheduled Slot",onDismiss:e.onDismiss}};return Object(a.jsx)(ge,Object(m.a)({},n))},Te=i.a.memo(ke),Se=function(e){var t=e.addScheduledSlotPanel,n=(e.defaultButton,e.iconButton);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B.a,Object(m.a)({},n)),Object(a.jsx)(Te,Object(m.a)({},t))]})},Fe=function(e){var t=e.onAddScheduledSlot,n=i.a.useState({defaultButton:{},iconButton:{},addScheduledSlotPanel:{isOpen:!1}}),c=Object(b.a)(n,2),r=c[0],s=c[1],o=i.a.useCallback((function(e){s((function(t){return Object(m.a)(Object(m.a)({},t),{},{addScheduledSlotPanel:Object(m.a)(Object(m.a)({},t.addScheduledSlotPanel),e)})}))}),[]),u={defaultButton:{className:"ms-hiddenXxlDown",text:"Add Scheduled Slot",iconProps:{iconName:"Add"},onClick:i.a.useCallback((function(){o({isOpen:!0})}),[o])},iconButton:{iconProps:{iconName:"Add"},onClick:function(){return u.defaultButton.onClick()}},addScheduledSlotPanel:Object(m.a)(Object(m.a)({},r.addScheduledSlotPanel),{},{onAddScheduledSlot:i.a.useCallback((function(){o({isOpen:!1}),t.apply(void 0,arguments)}),[o,t]),onDismiss:i.a.useCallback((function(){o({isOpen:!1})}),[o])})};return Object(a.jsx)(Se,Object(m.a)({},u))},we=i.a.memo(Fe),Be=function(e){var t=e.primaryButton,n=e.addScheduledSlotButton;return Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(ie.a,Object(m.a)({},t)),Object(a.jsx)(we,Object(m.a)({},n))]})},De=function(e){var t=e.onClickPunchIn,n=e.onAddScheduledSlot,c=e.punchInText,r=e.showIcon,s=e.punchInDisabled,o={primaryButton:{text:c,iconProps:i.a.useMemo((function(){return r&&{iconName:"Leave"}}),[r]),disabled:s,onClick:t},addScheduledSlotButton:{onAddScheduledSlot:n}};return Object(a.jsx)(Be,Object(m.a)({},o))},Me=i.a.memo(De),ye=n(220),Le=function(e){var t=e.show,n=e.spinner;return t&&Object(a.jsx)(ye.a,Object(m.a)({},n))},Ne=function(e){var t={show:e.show};return Object(a.jsx)(Le,Object(m.a)({},t))},Ie=i.a.memo(Ne),Ae=function(e){var t=e.inTextField;return Object(a.jsx)(ce,Object(m.a)({},t))},He=function(e){var t=e.outTextField;return Object(a.jsx)(ce,Object(m.a)({},t))},Ee=Object(C.B)({detailsList:{".ms-FocusZone.ms-DetailsHeader":{paddingTop:0},".ms-DetailsList-headerWrapper":{".ms-DetailsHeader-cell":{maxWidth:"calc(50% - 15px) !important",minWidth:"calc(50% - 15px) !important"},'.ms-DetailsHeader-cell[data-item-key="deleteicon"]':{width:"30px !important",maxWidth:"30px !important",minWidth:"30px !important"}},".ms-List-cell":{".ms-DetailsRow":{minWidth:"100% !important",".ms-DetailsRow-fields":{width:"100%",".deleteIconColumn.ms-DetailsRow-cell":{minWidth:"30px !important",maxWidth:"30px !important"},".ms-DetailsRow-cell":{minWidth:"calc(50% - 15px)",maxWidth:"calc(50% - 15px)"}}}}}}),Ge=function(e){var t=e.items,n=e.onDeleteSlot,c=e.onChangeSlot,r=i.a.useState({detailsList:{items:[]}}),s=Object(b.a)(r,2),o=s[0],u=s[1],l=i.a.useCallback((function(e){u((function(t){return Object(m.a)(Object(m.a)({},t),{},{detailsList:Object(m.a)(Object(m.a)({},t.detailsList),e)})}))}),[]),d={show:Boolean(t.length),detailsList:Object(m.a)(Object(m.a)({},o.detailsList),{},{className:Ee.detailsList,selectionMode:le.b.none,columns:[{key:"inTime",name:"In Time",onRender:Ae},{key:"outTime",name:"Out Time",onRender:He},{key:"deleteicon",className:"deleteIconColumn",onRender:function(e){var t=e.deleteIconButton;return Object(a.jsx)(B.a,Object(m.a)({iconProps:{iconName:"Trash"}},t))}}]}),text:{children:"\ud83d\udd5aScheduled Slots",variant:"mediumPlus"}};return i.a.useEffect((function(){var e=t.map((function(t){return{id:t.id,item:t,inTextField:{value:p()(t.inTime).format(K),onError:function(n){return l({items:e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{inTextField:Object(m.a)(Object(m.a)({},e.inTextField),{},{errorMessage:n})}):e}))})},onChange:function(n){var a=me({newInTime:n,slots:e,item:e.find((function(e){return e.id===t.id})),verifyIsGreaterThanNow:!1}),i=a.isValid,r=a.errorMessage,s=void 0===r?"":r;l({items:e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{inTextField:Object(m.a)(Object(m.a)({},e.inTextField),{},{errorMessage:s})}):e}))}),i&&c({id:t.id,inTime:p()(n,K).valueOf()})}},outTextField:{value:p()(t.outTime).format(K),onError:function(n){return l({items:e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{outTextField:Object(m.a)(Object(m.a)({},e.outTextField),{},{errorMessage:n})}):e}))})},onChange:function(n){var a=je({newOutTime:n,modifiedItems:e,id:t.id,verifyIsGreaterThanNow:!1}),i=a.isValid,r=a.errorMessage,s=void 0===r?"":r;l({items:e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{outTextField:Object(m.a)(Object(m.a)({},e.outTextField),{},{errorMessage:s})}):e}))}),i&&c({id:t.id,outTime:p()(n,K).valueOf()})}},deleteIconButton:{onClick:function(){return n(t)}}}}));l({items:e})}),[l,t,n,c]),Object(a.jsx)(Z,Object(m.a)({},d))},We=i.a.memo(Ge),Ye=n(225),Re=n(7),Ve=function(e){var t=e.showFinishFlag,n=e.showScheduledFinishDot,c=e.grossHoursLeft;return t?Object(a.jsx)(a.Fragment,{children:"\ud83c\udfc1"}):n?Object(a.jsxs)(Ye.a,{messageBarType:Re.a.warning,children:[c," hrs \ud83d\udd35"]}):null},ze=function(e){var t=e.show,n=e.punchedPercent,c=e.scheduledPercent,i=(e.label,e.statusEmoji);return t&&Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsxs)(O.a,{horizontal:!0,horizontalAlign:"space-between",verticalAlign:"center",children:[Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\ud83d\udccaProgress"}),Object(a.jsx)(x.a,{variant:"mediumPlus",children:Object(a.jsx)(Ve,Object(m.a)({},i))})]}),Object(a.jsxs)("div",{className:"progress rounded-0",style:{height:15},children:[Object(a.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(n,"%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"}),Object(a.jsx)("div",{className:"progress-bar bg-warning progress-bar-striped",role:"progressbar",style:{width:"".concat(c,"%")},"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"})]})]})},Ue=i.a.memo(ze),Xe=Object(C.B)({messageBar:{maxWidth:185}}),qe=function(e){var t=e.messageBar,n=e.content;return Object(a.jsx)(Ye.a,Object(m.a)(Object(m.a)({},t),{},{children:n}))},Je=function(e){var t=e.minutesLeft,n=i.a.useState({hoursLeft:0,messageBar:{className:Xe.messageBar,messageBarType:Re.a.info}}),c=Object(b.a)(n,2),r=c[0],s=c[1],o={messageBar:Object(m.a)({},r.messageBar),content:i.a.useMemo((function(){return"".concat(r.hoursLeft," hrs to go...")}),[r.hoursLeft])};return i.a.useEffect((function(){var e=te(t);s((function(t){return Object(m.a)(Object(m.a)({},t),{},{hoursLeft:e})}))}),[t]),Object(a.jsx)(qe,Object(m.a)({},o))},Ze=i.a.memo(Je),_e=function(e){var t=e.show,n=e.text,c=e.goalForTheDayForm,i=e.punchedSlots,r=e.punchCardButtons,s=(e.addScheduledSlotButton,e.spinner),o=e.scheduledSlots,u=e.infoBar,l=e.progress;return t&&Object(a.jsx)("div",{className:"ms-Grid",dir:"ltr",children:Object(a.jsxs)("div",{className:"ms-Grid-row",children:[Object(a.jsx)("div",{className:"ms-Grid-col ms-hiddenSm ms-md2 ms-lg3 ms-xl4 ms-xxxl5"}),Object(a.jsx)("div",{className:"ms-Grid-col ms-sm12 ms-md8 ms-lg6 ms-xl4 ms-xxxl2 ms-depth-4",children:Object(a.jsxs)(O.a,{vertical:!0,tokens:{childrenGap:10,padding:5},children:[Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(x.a,Object(m.a)({},n))," ",Object(a.jsx)(Ie,Object(m.a)({},s))]}),Object(a.jsx)(U,Object(m.a)({},c)),Object(a.jsx)(Ze,Object(m.a)({},u)),Object(a.jsx)(Oe,Object(m.a)({},i)),Object(a.jsx)(Me,Object(m.a)({},r)),Object(a.jsx)(We,Object(m.a)({},o)),Object(a.jsx)(Ue,Object(m.a)({},l))]})}),Object(a.jsx)("div",{className:"ms-Grid-col ms-hiddenSm ms-md2 ms-lg3 ms-xl4 ms-xxxl5"})]})})},Ke=$,Qe=ee,$e=function(e){var t=e.slots;return t.length?t.reduce((function(e,t){var n=t.inTime,a=t.outTime;return n&&a?p()(a).diff(n,"minutes")+e:e}),0):0},et=function(e){var t=e.id,n=e.punchedSlots,c=e.title,r=e.goalForTheDay,s=e.scheduledSlots,o=e.onUpdatePunchSlot,u=e.onAddPunchedSlot,O=e.onAddScheduledSlot,f=e.onDeleteScheduledSlot,p=e.onChangeScheduledSlot,v=e.onChangeGoal,C=i.a.useState({goaInMinutes:0,minutesLeft:0,punchedMinutes:0,scheduledMinutes:0,punchedPercent:0,scheduledPercent:0,totalPercent:0,spinner:{show:!1},punchedProgress:{label:Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\u23f3Punched"})},scheduledProgress:{label:Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\ud83d\udd5a Scheduled "})}}),P=Object(b.a)(C,2),g=P[0],k=P[1],T=i.a.useCallback((function(e){k((function(t){return Object(m.a)(Object(m.a)({},t),{},{spinner:Object(m.a)(Object(m.a)({},t.spinner),e)})}))}),[]),S={show:i.a.useMemo((function(){return Boolean(t)}),[t]),spinner:Object(m.a)({},g.spinner),text:{children:c,variant:"large"},goalForTheDayForm:Object(m.a)(Object(m.a)({},r),{},{onChangeGoal:i.a.useCallback((function(e){v({id:t,goalForTheDay:Object(m.a)(Object(m.a)({},r),e)})}),[v,r,t])}),punchedSlots:{onUpdatePunchSlot:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T({show:!0}),e.prev=1,c=n.map((function(e){return a.id===e.id?Object(m.a)(Object(m.a)({},e),a):e})),e.next=5,o({id:t,punchedSlots:c});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("punch-slot did not update",e.t0);case 10:return e.prev=10,T({show:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),[n,o,T,t]),items:n},punchCardButtons:{punchInText:i.a.useMemo((function(){return e=n.length,Boolean(e)?Qe:Ke;var e}),[n.length]),onClickPunchIn:i.a.useCallback((function(){var e={id:Object(h.a)(),inTime:Date.now(),outTime:null};u({id:t,punchedSlots:[].concat(Object(d.a)(n),[e])})}),[u,n,t]),onAddScheduledSlot:i.a.useCallback((function(e){O({id:t,scheduledSlots:[].concat(Object(d.a)(s),[e])})}),[O,s,t]),punchInDisabled:i.a.useMemo((function(){return!function(e){var t=e.items;if(!t.length)return!0;var n=t[t.length-1].outTime;return Boolean(n)}({items:n})}),[n]),showIcon:i.a.useMemo((function(){return Boolean(n.length)}),[n.length])},scheduledSlots:{items:s,onDeleteSlot:i.a.useCallback((function(e){var n=s.filter((function(t){return t.id!==e.id}));f({id:t,scheduledSlots:n})}),[f,s,t]),onChangeSlot:i.a.useCallback((function(e){var n=s.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),e):t}));p({id:t,scheduledSlots:n})}),[p,s,t])},progress:{show:i.a.useMemo((function(){return Boolean(n.length)}),[n.length]),punchedPercent:i.a.useMemo((function(){return g.punchedPercent}),[g.punchedPercent]),scheduledPercent:i.a.useMemo((function(){return g.scheduledPercent}),[g.scheduledPercent]),statusEmoji:i.a.useMemo((function(){return{showFinishFlag:g.punchedPercent>100,grossHoursLeft:te(g.grossMinutesLeft),showScheduledFinishDot:g.totalPercent>100}}),[g.punchedPercent,g.totalPercent,g.grossMinutesLeft])},infoBar:{minutesLeft:i.a.useMemo((function(){return g.minutesLeft}),[g.minutesLeft])}};return i.a.useEffect((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hours,n=void 0===t?"00":t,a=e.minutes,c=void 0===a?"00":a;return 60*Number(n)+Number(c)}(r),t=$e({slots:n}),a=$e({slots:s}),c=e?t/e*100:0,i=e?a/e*100:0,o=c+i,u=e?e-t:0,l=u-a;k((function(n){return Object(m.a)(Object(m.a)({},n),{},{goalInMinutes:e,punchedMinutes:t,scheduledMinutes:a,punchedPercent:c,scheduledPercent:i,totalPercent:o,minutesLeft:u,grossMinutesLeft:l})}))}),[n,r,s]),Object(a.jsx)(_e,Object(m.a)({},S))};et.defaultProps={punchedSlots:[],scheduledSlots:[]};var tt=i.a.memo(et),nt=n(97),at=function(e){var t=e.textField0,n=e.iconButton0,c=e.primaryButton0,i=e.form;return Object(a.jsx)("form",Object(m.a)(Object(m.a)({},i),{},{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(nt.a,Object(m.a)({},t)),Object(a.jsx)(B.a,Object(m.a)({},n)),Object(a.jsx)(ie.a,Object(m.a)({},c))]})}))},ct=function(e){var t=e.onSubmit,n=i.a.useState({textField0:{value:"",placeholder:"Punch Card Name..."},iconButton0:{type:"submit",className:"ms-hiddenXlUp",title:"Add Punch Card",iconProps:{iconName:"Add"}},primaryButton0:{className:"ms-hiddenLgDown",type:"submit",iconProps:{iconName:"Add"},text:"Add Punch Card",title:"Add Punch Card"}}),c=Object(b.a)(n,2),r=c[0],s=c[1],o=i.a.useCallback((function(e,t){s((function(e){return Object(m.a)(Object(m.a)({},e),{},{textField0:Object(m.a)(Object(m.a)({},e.textField0),{},{value:t})})}))}),[]),u={textField0:Object(m.a)(Object(m.a)({},r.textField0),{},{onChange:o}),iconButton0:Object(m.a)(Object(m.a)({},r.iconButton0),{},{disabled:!r.textField0.value.trim()}),primaryButton0:Object(m.a)(Object(m.a)({},r.primaryButton0),{},{disabled:!r.textField0.value.trim()}),form:{onSubmit:i.a.useCallback((function(e){e.preventDefault(),e.stopPropagation(),t(r.textField0.value),o(null,"")}),[r.textField0.value,t,o])}};return Object(a.jsx)(at,Object(m.a)({},u))},it=i.a.memo(ct),rt=function(e){var t=e.iconButton0,n=e.iconButton1,c=e.text;return Object(a.jsxs)(x.a,{variant:"large",as:"em",children:[Object(a.jsx)(B.a,Object(m.a)({},t)),c,Object(a.jsx)(B.a,Object(m.a)({},n))]})},st=function(e){var t={iconButton0:{primary:!0,iconProps:{iconName:"Edit"},onClick:e.onEdit},iconButton1:{iconProps:{iconName:"Delete"},onClick:e.onDelete},text:e.title};return Object(a.jsx)(rt,Object(m.a)({},t))},ot=i.a.memo(st),ut=function(e){var t=e.punchCards;return Array.isArray(t)&&t.map((function(e){return Object(a.jsx)(ot,Object(m.a)({},e),e.id)}))},lt=i.a.memo(ut),dt=function(e){var t=e.show,n=e.panel,c=e.punchCardsList;return t&&Object(a.jsx)(he.a,Object(m.a)(Object(m.a)({},n),{},{children:Object(a.jsx)(O.a,{vertical:!0,children:Object(a.jsx)(lt,Object(m.a)({},c))})}))};dt.defaultProps={show:!1};var jt=function(e){var t=e.items,n=e.isOpen,c=e.onDismiss,r=e.onDeletePunchCard,s=e.onSelectPunchCard,o=i.a.useState({panel:{isOpen:!0},punchCardsList:{punchCards:[]}}),u=Object(b.a)(o,2),l=u[0],d=u[1],j=i.a.useCallback((function(e){d((function(t){return Object(m.a)(Object(m.a)({},t),{},{punchCardsList:Object(m.a)(Object(m.a)({},t.punchCardsList),e)})}))}),[]),O={show:n,panel:{isOpen:n,onDismiss:c,headerText:"Punch Cards"},punchCardsList:Object(m.a)({},l.punchCardsList)};return i.a.useEffect((function(){var e=t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{onEdit:function(){return s(e.id)},onDelete:function(){return r(e.id)}})}));j({punchCards:e})}),[t,j,s,r]),Object(a.jsx)(dt,Object(m.a)({},O))};jt.defaultProps={items:[]};var mt=i.a.memo(jt),bt=n(98),Ot=function(e){var t=e.iconButton0,n=e.defaultButotn0,c=e.punchCardsPanel;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B.a,Object(m.a)({},t)),Object(a.jsx)(bt.a,Object(m.a)({},n)),Object(a.jsx)(mt,Object(m.a)({},c))]})},ht=function(e){var t=e.onClick,n=e.disabled,c={iconButton0:{type:"submit",disabled:n,className:"ms-hiddenXlUp",title:"Show Punch Cards",iconProps:{iconName:"RedEye"},onClick:t},defaultButotn0:{className:"ms-hiddenLgDown",disabled:n,type:"submit",iconProps:{iconName:"RedEye"},text:"Show Punch Cards",title:"Show Punch Cards",onClick:t},punchCardsPanel:{items:e.items,isOpen:e.isOpenPanel,onDismiss:e.onDismiss,onDeletePunchCard:e.onDeletePunchCard,onSelectPunchCard:e.onSelectPunchCard}};return Object(a.jsx)(Ot,Object(m.a)({},c))};ht.defaultProps={items:[]};var ft=i.a.memo(ht),pt=function(e){var t=e.selectedPunchCard,n=e.newPunchCardForm,c=e.punchCardsPanel,i=e.showPunchCardsButton;return Object(a.jsx)(O.a,{tokens:{childrenGap:10,padding:5},children:Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(mt,Object(m.a)({},c)),Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(it,Object(m.a)({},n)),Object(a.jsx)(ft,Object(m.a)({},i))]})}),Object(a.jsx)(tt,Object(m.a)({},t))]})})},xt=function(e){var t=e.onAddPunchCard,n=e.punchCards,c=e.selectedPunchCard,r=e.isOpenPunchCardsPanel,s=e.onDismissPunchCardPanel,o=e.onDeletePunchCard,u=e.onSelectPunchCard,d=e.onClickShowPunchCardsButton,b=e.onEditPunchCard,O={selectedPunchCard:Object(m.a)(Object(m.a)({},c),{},{onChangeGoal:b,onUpdatePunchSlot:b,onAddPunchedSlot:b,onAddScheduledSlot:b,onDeleteScheduledSlot:b,onChangeScheduledSlot:b}),newPunchCardForm:{onSubmit:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])},showPunchCardsButton:{isOpenPanel:r,items:n,onDeletePunchCard:o,onSelectPunchCard:u,onDismiss:s,disabled:i.a.useMemo((function(){return!n.length}),[n.length]),onClick:d}};return Object(a.jsx)(pt,Object(m.a)({},O))};xt.defaultProps={punchCards:[],isOpenPunchCardsPanel:!1};var vt=i.a.memo(xt),Ct=new(n(95).a)("MyDb");Ct.version(1).stores({punchCards:"++id"}),Ct.open();var Pt=Ct,gt=(n(166),function(){var e=i.a.useState({punchCards:[],selectedPunchCard:null,isOpenPunchCardsPanel:!1}),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(m.a)(Object(m.a)({},n),{},{onAddPunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:Object(h.a)(),title:t,punchedSlots:[],scheduledSlots:[],goalForTheDay:{hours:"09",minutes:"00"}},e.next=3,Pt.punchCards.add(n);case 3:c((function(e){return{punchCards:[n].concat(Object(d.a)(e.punchCards)),isOpenPunchCardsPanel:!0}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onDismissPunchCardPanel:i.a.useCallback((function(){c((function(e){return Object(m.a)(Object(m.a)({},e),{},{isOpenPunchCardsPanel:!1})}))}),[]),onOpenPunchCardPanel:i.a.useCallback((function(){c((function(e){return Object(m.a)(Object(m.a)({},e),{},{isOpenPunchCardsPanel:!0})}))}),[]),onDeletePunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.punchCards.delete(t);case 2:c((function(e){var n=e.punchCards.filter((function(e){return t!==e.id})),a=Boolean(n.length),c=e.selectedPunchCard?t===e.selectedPunchCard.id?null:e.selectedPunchCard:null;return Object(m.a)(Object(m.a)({},e),{},{isOpenPunchCardsPanel:a,punchCards:n,selectedPunchCard:c})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onSelectPunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.punchCards.get(t);case 2:n=e.sent,c((function(e){return Object(m.a)(Object(m.a)({},e),{},{selectedPunchCard:n,isOpenPunchCardsPanel:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onEditPunchCard:i.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=Object(o.a)(t,["id"]),e.next=3,Pt.punchCards.update(n,a);case 3:c((function(e){var t=e.punchCards.map((function(e){return e.id===n?Object(m.a)(Object(m.a)({},e),a):e}));return console.log({update:a}),Object(m.a)(Object(m.a)({},e),{},{punchCards:t,selectedPunchCard:Object(m.a)(Object(m.a)({},e.selectedPunchCard),a)})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onClickShowPunchCardsButton:i.a.useCallback((function(){c((function(e){return Object(m.a)(Object(m.a)({},e),{},{isOpenPunchCardsPanel:!0})}))}),[])});return i.a.useEffect((function(){Pt.punchCards.toArray((function(e){e.length&&c((function(t){return{punchCards:e,isOpenPunchCardsPanel:!0}}))}))}),[]),Object(a.jsx)(vt,Object(m.a)({},r))}),kt=i.a.memo(gt),Tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},St=(n(167),n(96));Object(St.a)(),s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(kt,{})}),document.getElementById("root")),Tt(console.log)}},[[168,1,2]]]);
//# sourceMappingURL=main.86b97627.chunk.js.map