(this["webpackJsonptime-tool"]=this["webpackJsonptime-tool"]||[]).push([[0],{168:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),r=n.n(c),i=n(46),o=n.n(i),s=n(99),u=n(16),l=n.n(u),d=n(36),j=n(26),b=n(2),m=n(12),O=n(219),h=n(218),f=n(11),p=n.n(f),x=n(224),v=n(229),C=n(5),P=n(84),k=n.n(P),g=n(70),S=n.n(g),T=n(208),F=n(209),B=n(222),w=n(228),M=n(216),D=n(71),y=n.n(D),L=function(e){var t=e.show,n=e.children;return t&&n};L.propTypes={show:y.a.bool,children:y.a.any},L.defaultProps={show:!0,children:null};var N=r.a.memo(L),I=function(e){var t=e.showCallout,n=e.label,c=e.iconButton,r=e.labelWrapperStack,i=e.contentWrapperStack,o=e.calloutContent,s=e.callout;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(O.a,Object(b.a)(Object(b.a)({},r),{},{children:[Object(a.jsx)(B.a,{children:n}),Object(a.jsx)(w.a,Object(b.a)({},c))]})),Object(a.jsx)(N,{show:t,children:Object(a.jsx)(M.a,Object(b.a)(Object(b.a)({},s),{},{children:Object(a.jsx)(O.a,Object(b.a)(Object(b.a)({},i),{},{children:Object(a.jsx)("span",{children:o})}))}))})]})},A=r.a.memo(I),H=function(e){var t=function(e){var t=e.label,n=void 0===t?"":t,c=e.content,i=void 0===c?"":c,o=Object(T.a)(),s=Object(F.a)(!1),u=Object(m.a)(s,2),l=u[0],d=u[1].toggle;return{labelWrapperStack:{horizontal:!0,verticalAlign:"center",tokens:{childrenGap:4,maxWidth:300}},label:n,callout:{target:"#".concat(o),onDismiss:d},iconButton:{id:o,styles:{root:{marginBottom:-3}},title:"Info",iconProps:{iconName:"Info"},onClick:r.a.useCallback((function(){d()}),[d])},showCallout:l,contentWrapperStack:{styles:{root:{padding:10,maxWidth:200}}},calloutContent:Object(a.jsx)(x.a,{variant:"small",children:i})}}({label:e.label,content:e.content});return Object(a.jsx)(A,Object(b.a)({},t))},E=r.a.memo(H),W=function(e){var t=e.text0,n=e.form,c=e.maskedTextField0,r=e.maskedTextField1;return Object(a.jsxs)("form",Object(b.a)(Object(b.a)({},n),{},{children:[Object(a.jsx)(x.a,Object(b.a)({},t)),Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(v.a,Object(b.a)({},c)),Object(a.jsx)(v.a,Object(b.a)({},r))]})]}))},Y=Object(C.B)({textField:{maxWidth:90}}),R=function(e){return Object(a.jsx)(E,Object(b.a)({},e))},G=function(e){var t=e.target;t.select(),t.select(0,99999)},V=function(e){var t=e.min,n=e.max,a=e.value,c=Number(a,10);if(!isNaN(c)){var r=c<Number(t),i=c>Number(n);return!r&&!i}return!1},z=function(e){var t=e.onChangeGoal,n=e.hours,c=e.minutes,i=r.a.useState({text0:{children:"\ud83c\udfafGoal For The Day",variant:"mediumPlus"},maskedTextField0:{className:Y.textField,content:"A value between 00 and 24.",mask:"99",label:"Hours",onClick:G,onRenderLabel:R,errorMessage:""},maskedTextField1:{className:Y.textField,content:"A value between 00 and 59.",mask:"99",label:"Minutes",onClick:G,onRenderLabel:R}}),o=Object(m.a)(i,2),s=o[0],u=o[1],l=r.a.useMemo((function(){return S()((function(e){u((function(t){return k()(Object(b.a)({},t),"maskedTextField1.errorMessage",e)}))}),800)}),[]),d=r.a.useMemo((function(){return S()((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{maskedTextField0:Object(b.a)(Object(b.a)({},t.maskedTextField0),e)})}))}),800)}),[]),j=r.a.useCallback((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{maskedTextField0:Object(b.a)(Object(b.a)({},t.maskedTextField0),e)})}))}),[]),O={form:{onSubmit:r.a.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[])},text0:Object(b.a)({},s.text0),maskedTextField0:Object(b.a)(Object(b.a)({value:n},s.maskedTextField0),{},{onChange:r.a.useCallback((function(e,n){V({min:0,max:24,value:n})?(d.cancel(),j({errorMessage:""}),t({hours:n})):d({errorMessage:"00 - 24"})}),[d,j,t])}),maskedTextField1:Object(b.a)(Object(b.a)({value:c},s.maskedTextField1),{},{onChange:r.a.useCallback((function(e,n){V({min:0,max:59,value:n})?(t({minutes:n}),l("")):l("00 - 59")}),[l,t])})};return r.a.useEffect((function(){var e=24===Number(n);u((function(t){return Object(b.a)(Object(b.a)({},t),{},{maskedTextField1:Object(b.a)(Object(b.a)({},t.maskedTextField1),{},{disabled:e})})})),e&&t({minutes:"00"})}),[n,t]),Object(a.jsx)(W,Object(b.a)({},O))};z.defaultProps={hours:"09",minutes:"02"};var U=r.a.memo(z),q=n(37),J=n(212),Z=function(e){var t=e.show,n=e.detailsList,c=e.text;return t&&Object(a.jsxs)(O.a,{children:[Object(a.jsx)(x.a,Object(b.a)({},c)),Object(a.jsx)(J.a,Object(b.a)({},n))]})};J.a.defaultProps={show:!1,detailsList:{items:[{Name:"foo"},{Name:"bar"}]},text:{}};var _=r.a.memo(Z),K=n(214),Q="YYYY-MM-DD HH:mm",X=function(e){return function(e){var t=e.elem,n=e.startPos,a=e.endPos;t.selectionStart=n,t.selectionEnd=a}({elem:e,startPos:11,endPos:16})},$="\ud83d\ude07Start Your Day",ee="Punch In",te=function(e){var t=e.tooltipHost0,n=e.maskedTextField0;return Object(a.jsx)(K.a,Object(b.a)(Object(b.a)({},t),{},{children:Object(a.jsx)(v.a,Object(b.a)({},n))}))},ne=function(e){var t=e.value,n=e.errorMessage,c=e.onChange,i=e.onError,o=r.a.useState({tooltipHost0:{content:"In ".concat(Q," format")},maskedTextField0:{mask:"9999-99-99 99:99"}}),s=Object(m.a)(o,1)[0],u={tooltipHost0:Object(b.a)({},s.tooltipHost0),maskedTextField0:Object(b.a)(Object(b.a)({value:t,errorMessage:n},s.maskedTextField0),{},{onClick:r.a.useCallback((function(e){var t=e.target;X(t)}),[]),onChange:r.a.useCallback((function(e,t){Boolean(String(t).match(/_/))||(p()(t,Q).isValid()?c(t):i("invalid date/time"))}),[c,i])})};return Object(a.jsx)(te,Object(b.a)({},u))},ae=r.a.memo(ne),ce=n(211),re=function(e){var t=e.showTextField,n=e.tooltipHost,c=e.maskedTextField0,r=e.primaryButton0;return t?Object(a.jsx)(K.a,Object(b.a)(Object(b.a)({},n),{},{children:Object(a.jsx)(v.a,Object(b.a)({},c))})):Object(a.jsx)(O.a,{children:Object(a.jsx)(ce.a,Object(b.a)({},r))})},ie=Object(C.B)({primaryButton0Icon:{transform:"rotate(180deg)"}}),oe=function(e){var t=e.value,n=e.onClick,c=e.onChange,i=e.onError,o=e.errorMessage,s=r.a.useState({tooltipHost:{content:"In ".concat(Q," format")},maskedTextField0:{mask:"9999-99-99 99:99"},primaryButton0:{text:"Punch Out",iconProps:{className:ie.primaryButton0Icon,iconName:"Leave"}}}),u=Object(m.a)(s,1)[0],l={showTextField:Boolean(t),tooltipHost:Object(b.a)({},u.tooltipHost),maskedTextField0:Object(b.a)(Object(b.a)({},u.maskedTextField0),{},{value:t,errorMessage:o,onClick:r.a.useCallback((function(e){X(e.target)}),[]),onChange:r.a.useCallback((function(e,t){Boolean(String(t).match(/_/))||(p()(t,Q).isValid()?c(t):i("invalid date/time"))}),[c,i])}),primaryButton0:Object(b.a)(Object(b.a)({},u.primaryButton0),{},{onClick:n})};return Object(a.jsx)(re,Object(b.a)({},l))},se=r.a.memo(oe),ue=n(22),le=Object(C.B)({detailsList:{".ms-DetailsList-headerWrapper":{".ms-FocusZone.ms-DetailsHeader":{paddingTop:0,".ms-DetailsHeader-cell":{maxWidth:"50%",minWidth:"50%"}}},".ms-DetailsRow-fields":{display:"flex",".ms-DetailsRow-cell":{maxWidth:"50%",minWidth:"50%"}}}}),de=function(e){var t=e.newOutTime,n=e.modifiedItems,a=e.id,c=p()(t,"YYYY-MM-DD HH:mm"),r=n[Object(q.findIndex)(n,(function(e){return e.id===a}))];if(c>p()())return{isValid:!1,errorMessage:"> current-time"};if(c<p()(r.item.inTime))return{isValid:!1,errorMessage:"< in-time"};var i=Object(q.findIndex)(n,(function(e){return e.id===a}))+1;if(Boolean(n[i])){var o=n[i].item;if(c>p()(o.inTime))return{isValid:!1,errorMessage:"> next-slot-in-time"}}return{isValid:!0}},je=function(e){var t=e.slots,n=e.newInTime,a=e.item,c=p()(n,"YYYY-MM-DD HH:mm");if(c>p()())return{isValid:!1,errorMessage:"> than current-time"};var r=Object(q.findIndex)(t,(function(e){return a.id===e.id}));if(r>0){var i=t[r-1].item.outTime;if(c.valueOf()<=i)return{isValid:!1,errorMessage:"< prev out"}}var o=a.item.outTime;if(o&&o<=c.valueOf())return{isValid:!1,errorMessage:"> current out."};return{isValid:!0}},be=function(e){var t=e.items,n=e.onUpdatePunchSlot,c=r.a.useState({text:{children:"\ud83d\udd70\ufe0fPunched Slots",variant:"mediumPlus"},detailsList:{className:le.detailsList,items:[],selectionMode:ue.b.none,columns:[{id:Object(h.a)(),key:"punch-in-time",name:"In Time",fieldName:"punchInTime",isResizable:!1,onRender:function(e){var t=e.punchInTimeCell;return Object(a.jsx)(ae,Object(b.a)({},t))}},{id:Object(h.a)(),key:"punch-out-time",name:"Out Time",fieldName:"punchOutTime",isResizable:!1,onRender:function(e){var t=e.punchOutTimeCell;return Object(a.jsx)(se,Object(b.a)({},t))}}]}}),i=Object(m.a)(c,2),o=i[0],s=i[1],u={show:r.a.useMemo((function(){return Boolean(o.detailsList.items.length)}),[o.detailsList.items.length]),detailsList:Object(b.a)({},o.detailsList),text:Object(b.a)({},o.text)},l=r.a.useCallback((function(e){s((function(t){return Object(b.a)(Object(b.a)({},t),{},{detailsList:Object(b.a)(Object(b.a)({},t.detailsList),e)})}))}),[]),d=r.a.useCallback((function(e){s((function(t){var n=t.detailsList.items.map((function(t){return e.id===t.id?Object(q.merge)(t,e):t}));return Object(b.a)(Object(b.a)({},t),{},{detailsList:Object(b.a)(Object(b.a)({},t.detailsList),{},{items:n})})}))}),[]);return r.a.useEffect((function(){var e=t.map((function(t,a){return{item:t,id:t.id,punchInTimeCell:{value:p()(t.inTime).format(Q),onChange:function(a){var c=je({newInTime:a,slots:e,item:e.find((function(e){return e.id===t.id}))}),r=c.isValid,i=c.errorMessage,o=void 0===i?"":i;d({id:t.id,punchInTimeCell:{errorMessage:o}}),r&&n({id:t.id,inTime:p()(a,Q).valueOf()})},onError:function(e){return d({id:t.id,punchInTimeCell:{errorMessage:e}})}},punchOutTimeCell:{value:t.outTime&&p()(t.outTime).format(Q),onChange:function(a){var c=de({newOutTime:a,modifiedItems:e,id:t.id}),r=c.isValid,i=c.errorMessage,o=void 0===i?"":i;d({id:t.id,punchOutTimeCell:{errorMessage:o}}),r&&n({id:t.id,outTime:p()(a,Q).valueOf()})},onError:function(e){d({id:t.id,punchOutTimeCell:{errorMessage:e}})},onClick:function(){n({id:t.id,outTime:p()().valueOf()})}}}}));l({items:e})}),[t,l,d,n]),Object(a.jsx)(_,Object(b.a)({},u))},me=r.a.memo(be),Oe=n(215),he=function(e){var t=e.form,n=e.maskedTextField0,c=e.maskedTextField1,r=e.primaryButton0;return Object(a.jsx)("form",Object(b.a)(Object(b.a)({},t),{},{children:Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(v.a,Object(b.a)({},n)),Object(a.jsx)(v.a,Object(b.a)({},c))]})}),Object(a.jsx)(ce.a,Object(b.a)({},r))]})}))},fe="YYYY-MM-DD HH:mm",pe=function(e){var t=e.target;t.selectionStart=11,t.selectionEnd=16},xe=function(e){return p()().add(e,"hours").startOf("hour").format(fe)},ve=function(e){var t=e.onSubmit,n=r.a.useMemo((function(){return Object(C.B)({textField:{maxWidth:130}})}),[]),c=r.a.useState({maskedTextField0:{className:n.textField,label:"Start Time *",content:"In ".concat(fe," format..."),required:!0,mask:"9999-99-99 99:99",text:"Hello",onRenderLabel:function(e){return Object(a.jsx)(E,Object(b.a)({},e))},onClick:pe,value:xe(1)},maskedTextField1:{className:n.textField,label:"End Time *",content:"In ".concat(fe," format..."),required:!0,mask:"9999-99-99 99:99",value:xe(2),onClick:pe,onRenderLabel:function(e){return Object(a.jsx)(E,Object(b.a)({},e))}},primaryButton0:{type:"submit",text:"Add Slot",iconProps:{iconName:"Add"}}}),i=Object(m.a)(c,2),o=i[0],s=i[1],u=r.a.useCallback((function(e,t){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{maskedTextField0:Object(b.a)(Object(b.a)({},e.maskedTextField0),{},{value:t})})}))}),[]),l=r.a.useCallback((function(e,t){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{maskedTextField1:Object(b.a)(Object(b.a)({},e.maskedTextField1),{},{value:t})})}))}),[]),d=r.a.useCallback((function(){s((function(e){return Object(b.a)(Object(b.a)({},e),{},{maskedTextField0:Object(b.a)(Object(b.a)({},e.maskedTextField0),{},{value:""}),maskedTextField1:Object(b.a)(Object(b.a)({},e.maskedTextField1),{},{value:""})})}))}),[]),j={form:{onSubmit:r.a.useCallback((function(e){e.preventDefault(),e.stopPropagation();var n=function(e){var t=e.inTime,n=e.outTime,a="YYYY-MM-DD HH:mm",c=p()(t,a),r=p()(n,a),i=r>c,o=c.isValid()&&r.isValid();return!(!i||!o)&&{inTime:c.valueOf(),outTime:r.valueOf()}}({inTime:o.maskedTextField0.value,outTime:o.maskedTextField1.value});n&&(t(Object(b.a)({id:Object(h.a)()},n)),d())}),[t,d,o.maskedTextField0.value,o.maskedTextField1.value])},maskedTextField0:Object(b.a)(Object(b.a)({},o.maskedTextField0),{},{onChange:u}),maskedTextField1:Object(b.a)(Object(b.a)({},o.maskedTextField1),{},{onChange:l}),primaryButton0:Object(b.a)({},o.primaryButton0)};return Object(a.jsx)(he,Object(b.a)({},j))},Ce=r.a.memo(ve),Pe=function(e){e.show;var t=e.panel,n=e.scheduledSlotForm;return Object(a.jsx)(Oe.a,Object(b.a)(Object(b.a)({},t),{},{children:Object(a.jsx)(Ce,Object(b.a)({},n))}))},ke=function(e){var t=e.isOpen,n={scheduledSlotForm:{onSubmit:e.onAddScheduledSlot},panel:{isOpen:t,isLightDismiss:!0,headerText:"Add Scheduled Slot",onDismiss:e.onDismiss}};return Object(a.jsx)(Pe,Object(b.a)({},n))},ge=r.a.memo(ke),Se=n(98),Te=function(e){var t=e.addScheduledSlotPanel,n=e.defaultButton,c=e.iconButton;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Se.a,Object(b.a)({},n)),Object(a.jsx)(w.a,Object(b.a)({},c)),Object(a.jsx)(ge,Object(b.a)({},t))]})},Fe=function(e){var t=e.onAddScheduledSlot,n=r.a.useState({defaultButton:{},iconButton:{},addScheduledSlotPanel:{isOpen:!1}}),c=Object(m.a)(n,2),i=c[0],o=c[1],s=r.a.useCallback((function(e){o((function(t){return Object(b.a)(Object(b.a)({},t),{},{addScheduledSlotPanel:Object(b.a)(Object(b.a)({},t.addScheduledSlotPanel),e)})}))}),[]),u={defaultButton:{className:"ms-hiddenSm",text:"Add Scheduled Slot",iconProps:{iconName:"Add"},onClick:r.a.useCallback((function(){s({isOpen:!0})}),[s])},iconButton:{className:"ms-hiddenMdUp",iconProps:{iconName:"Add"},onClick:function(){return u.defaultButton.onClick()}},addScheduledSlotPanel:Object(b.a)(Object(b.a)({},i.addScheduledSlotPanel),{},{onAddScheduledSlot:r.a.useCallback((function(){s({isOpen:!1}),t.apply(void 0,arguments)}),[s,t]),onDismiss:r.a.useCallback((function(){s({isOpen:!1})}),[s])})};return Object(a.jsx)(Te,Object(b.a)({},u))},Be=r.a.memo(Fe),we=function(e){var t=e.primaryButton,n=e.addScheduledSlotButton;return Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(ce.a,Object(b.a)({},t)),Object(a.jsx)(Be,Object(b.a)({},n))]})},Me=function(e){var t=e.onClickPunchIn,n=e.onAddScheduledSlot,c=e.punchInText,i=e.showIcon,o=e.punchInDisabled,s={primaryButton:{text:c,iconProps:r.a.useMemo((function(){return i&&{iconName:"Leave"}}),[i]),disabled:o,onClick:t},addScheduledSlotButton:{onAddScheduledSlot:n}};return Object(a.jsx)(we,Object(b.a)({},s))},De=r.a.memo(Me),ye=n(220),Le=function(e){var t=e.show,n=e.spinner;return t&&Object(a.jsx)(ye.a,Object(b.a)({},n))},Ne=function(e){var t={show:e.show};return Object(a.jsx)(Le,Object(b.a)({},t))},Ie=r.a.memo(Ne),Ae=function(e){var t=e.inTextField;return Object(a.jsx)(ae,Object(b.a)({},t))},He=function(e){var t=e.outTextField;return Object(a.jsx)(ae,Object(b.a)({},t))},Ee=Object(C.B)({detailsList:{".ms-FocusZone.ms-DetailsHeader":{paddingTop:0},".ms-DetailsList-headerWrapper":{".ms-DetailsHeader-cell":{maxWidth:"calc(50% - 15px) !important",minWidth:"calc(50% - 15px) !important"},'.ms-DetailsHeader-cell[data-item-key="deleteicon"]':{width:"30px !important",maxWidth:"30px !important",minWidth:"30px !important"}},".ms-List-cell":{".ms-DetailsRow":{minWidth:"100% !important",".ms-DetailsRow-fields":{width:"100%",".deleteIconColumn.ms-DetailsRow-cell":{minWidth:"30px !important",maxWidth:"30px !important"},".ms-DetailsRow-cell":{minWidth:"calc(50% - 15px)",maxWidth:"calc(50% - 15px)"}}}}}}),We=function(e){var t=e.items,n=e.onDeleteSlot,c=e.onChangeSlot,i=r.a.useState({detailsList:{items:[]}}),o=Object(m.a)(i,2),s=o[0],u=o[1],l=r.a.useCallback((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{detailsList:Object(b.a)(Object(b.a)({},t.detailsList),e)})}))}),[]),d={show:Boolean(t.length),detailsList:Object(b.a)(Object(b.a)({},s.detailsList),{},{className:Ee.detailsList,selectionMode:ue.b.none,columns:[{key:"inTime",name:"In Time",onRender:Ae},{key:"outTime",name:"Out Time",onRender:He},{key:"deleteicon",className:"deleteIconColumn",onRender:function(e){var t=e.deleteIconButton;return Object(a.jsx)(w.a,Object(b.a)({iconProps:{iconName:"Trash"}},t))}}]}),text:{children:"\ud83d\udd5aScheduled Slots",variant:"mediumPlus"}};return r.a.useEffect((function(){var e=t.map((function(t){return{id:t.id,item:t,inTextField:{value:p()(t.inTime).format(Q),onError:function(n){return l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{inTextField:Object(b.a)(Object(b.a)({},e.inTextField),{},{errorMessage:n})}):e}))})},onChange:function(n){var a=je({newInTime:n,slots:e,item:e.find((function(e){return e.id===t.id}))}),r=a.isValid,i=a.errorMessage,o=void 0===i?"":i;l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{inTextField:Object(b.a)(Object(b.a)({},e.inTextField),{},{errorMessage:o})}):e}))}),r&&c({id:t.id,inTime:p()(n,Q).valueOf()})}},outTextField:{value:p()(t.outTime).format(Q),onError:function(n){return l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{outTextField:Object(b.a)(Object(b.a)({},e.outTextField),{},{errorMessage:n})}):e}))})},onChange:function(n){var a=de({newOutTime:n,modifiedItems:e,id:t.id}),r=a.isValid,i=a.errorMessage,o=void 0===i?"":i;l({items:e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{outTextField:Object(b.a)(Object(b.a)({},e.outTextField),{},{errorMessage:o})}):e}))}),r&&c({id:t.id,outTime:p()(n,Q).valueOf()})}},deleteIconButton:{onClick:function(){return n(t)}}}}));l({items:e})}),[l,t,n,c]),Object(a.jsx)(_,Object(b.a)({},d))},Ye=r.a.memo(We),Re=(n(166),function(e){var t=e.show,n=e.punchedPercent,c=e.scheduledPercent;e.label;return t&&Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\ud83d\udccaProgress"}),Object(a.jsxs)("div",{className:"progress rounded-0",style:{height:15},children:[Object(a.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(n,"%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"}),Object(a.jsx)("div",{className:"progress-bar bg-warning progress-bar-striped",role:"progressbar",style:{width:"".concat(c,"%")},"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"})]})]})}),Ge=r.a.memo(Re),Ve=n(225),ze=n(7),Ue=Object(C.B)({messageBar:{maxWidth:185}}),qe=function(e){var t=e.messageBar,n=e.content;return Object(a.jsx)(Ve.a,Object(b.a)(Object(b.a)({},t),{},{children:n}))},Je=function(e){var t=e.minutesLeft,n=r.a.useState({hoursLeft:0,messageBar:{className:Ue.messageBar,messageBarType:ze.a.info}}),c=Object(m.a)(n,2),i=c[0],o=c[1],s={messageBar:Object(b.a)({},i.messageBar),content:r.a.useMemo((function(){return"".concat(i.hoursLeft," hrs to go...")}),[i.hoursLeft])};return r.a.useEffect((function(){var e=function(e){if(!e||isNaN(Number(e)))return"00:00";var t=e<0?"- ":"";e=Math.abs(e);var n=Math.floor(e/60),a=e%60;return n=n<10?"0"+n:n,a=a<10?"0"+a:a,"".concat(t).concat(n,":").concat(a)}(t);o((function(t){return Object(b.a)(Object(b.a)({},t),{},{hoursLeft:e})}))}),[t]),Object(a.jsx)(qe,Object(b.a)({},s))},Ze=r.a.memo(Je),_e=function(e){var t=e.show,n=e.text,c=e.goalForTheDayForm,r=e.punchedSlots,i=e.punchCardButtons,o=(e.addScheduledSlotButton,e.spinner),s=e.scheduledSlots,u=e.infoBar,l=e.progress;return t&&Object(a.jsxs)(O.a,{vertical:!0,tokens:{childrenGap:10},children:[Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:5},children:[Object(a.jsx)(x.a,Object(b.a)({},n))," ",Object(a.jsx)(Ie,Object(b.a)({},o))]}),Object(a.jsx)(U,Object(b.a)({},c)),Object(a.jsx)(Ze,Object(b.a)({},u)),Object(a.jsx)(me,Object(b.a)({},r)),Object(a.jsx)(De,Object(b.a)({},i)),Object(a.jsx)(Ye,Object(b.a)({},s)),Object(a.jsx)(Ge,Object(b.a)({},l))]})},Ke=$,Qe=ee,Xe=function(e){var t=e.slots;return t.length?t.reduce((function(e,t){var n=t.inTime,a=t.outTime;return n&&a?p()(a).diff(n,"minutes")+e:e}),0):0},$e=function(e){var t=e.id,n=e.punchedSlots,c=e.title,i=e.goalForTheDay,o=e.scheduledSlots,s=e.onUpdatePunchSlot,u=e.onAddPunchedSlot,O=e.onAddScheduledSlot,f=e.onDeleteScheduledSlot,p=e.onChangeScheduledSlot,v=e.onChangeGoal,C=r.a.useState({goaInMinutes:0,minutesLeft:0,punchedMinutes:0,scheduledMinutes:0,punchedPercent:0,scheduledPercent:0,spinner:{show:!1},punchedProgress:{label:Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\u23f3Punched"})},scheduledProgress:{label:Object(a.jsx)(x.a,{variant:"mediumPlus",children:"\ud83d\udd5a Scheduled "})}}),P=Object(m.a)(C,2),k=P[0],g=P[1],S=r.a.useCallback((function(e){g((function(t){return Object(b.a)(Object(b.a)({},t),{},{spinner:Object(b.a)(Object(b.a)({},t.spinner),e)})}))}),[]),T={show:r.a.useMemo((function(){return Boolean(t)}),[t]),spinner:Object(b.a)({},k.spinner),text:{children:c,variant:"large"},goalForTheDayForm:Object(b.a)(Object(b.a)({},i),{},{onChangeGoal:r.a.useCallback((function(e){v({id:t,goalForTheDay:Object(b.a)(Object(b.a)({},i),e)})}),[v,i,t])}),punchedSlots:{onUpdatePunchSlot:r.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({show:!0}),e.prev=1,c=n.map((function(e){return a.id===e.id?Object(b.a)(Object(b.a)({},e),a):e})),e.next=5,s({id:t,punchedSlots:c});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("punch-slot did not update",e.t0);case 10:return e.prev=10,S({show:!1}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),[n,s,S,t]),items:n},punchCardButtons:{punchInText:r.a.useMemo((function(){return e=n.length,Boolean(e)?Qe:Ke;var e}),[n.length]),onClickPunchIn:r.a.useCallback((function(){var e={id:Object(h.a)(),inTime:Date.now(),outTime:null};u({id:t,punchedSlots:[].concat(Object(d.a)(n),[e])})}),[u,n,t]),onAddScheduledSlot:r.a.useCallback((function(e){O({id:t,scheduledSlots:[].concat(Object(d.a)(o),[e])})}),[O,o,t]),punchInDisabled:r.a.useMemo((function(){return!function(e){var t=e.items;if(!t.length)return!0;var n=t[t.length-1].outTime;return Boolean(n)}({items:n})}),[n]),showIcon:r.a.useMemo((function(){return Boolean(n.length)}),[n.length])},scheduledSlots:{items:o,onDeleteSlot:r.a.useCallback((function(e){var n=o.filter((function(t){return t.id!==e.id}));f({id:t,scheduledSlots:n})}),[f,o,t]),onChangeSlot:r.a.useCallback((function(e){var n=o.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),e):t}));p({id:t,scheduledSlots:n})}),[p,o,t])},progress:{show:r.a.useMemo((function(){return Boolean(n.length)}),[n.length]),punchedPercent:r.a.useMemo((function(){return k.punchedPercent}),[k.punchedPercent]),scheduledPercent:r.a.useMemo((function(){return k.scheduledPercent}),[k.scheduledPercent])},punchedProgress:Object(b.a)(Object(b.a)({},k.punchedProgress),{},{show:r.a.useMemo((function(){return Boolean(n.length)}),[n.length]),progress:k.punchedPercent}),scheduledProgress:Object(b.a)(Object(b.a)({},k.scheduledProgress),{},{show:r.a.useMemo((function(){return Boolean(o.length)}),[o.length]),progress:k.scheduledPercent}),infoBar:{minutesLeft:r.a.useMemo((function(){return k.minutesLeft}),[k.minutesLeft])}};return r.a.useEffect((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hours,n=void 0===t?"00":t,a=e.minutes,c=void 0===a?"00":a;return 60*Number(n)+Number(c)}(i),t=Xe({slots:n}),a=Xe({slots:o}),c=e?t/e*100:0,r=e?a/e*100:0,s=e?e-t:0;g((function(n){return Object(b.a)(Object(b.a)({},n),{},{goalInMinutes:e,punchedMinutes:t,scheduledMinutes:a,punchedPercent:c,scheduledPercent:r,minutesLeft:s})}))}),[n,i,o]),Object(a.jsx)(_e,Object(b.a)({},T))};$e.defaultProps={punchedSlots:[],scheduledSlots:[]};var et=r.a.memo($e),tt=n(97),nt=function(e){var t=e.textField0,n=e.iconButton0,c=e.primaryButton0,r=e.form;return Object(a.jsx)("form",Object(b.a)(Object(b.a)({},r),{},{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(tt.a,Object(b.a)({},t)),Object(a.jsx)(w.a,Object(b.a)({},n)),Object(a.jsx)(ce.a,Object(b.a)({},c))]})}))},at=function(e){var t=e.onSubmit,n=r.a.useState({textField0:{value:"",placeholder:"Punch Card Name..."},iconButton0:{type:"submit",className:"ms-hiddenMdUp",title:"Add Punch Card",iconProps:{iconName:"Add"}},primaryButton0:{className:"ms-hiddenSm",type:"submit",iconProps:{iconName:"Add"},text:"Add Punch Card",title:"Add Punch Card"}}),c=Object(m.a)(n,2),i=c[0],o=c[1],s=r.a.useCallback((function(e,t){o((function(e){return Object(b.a)(Object(b.a)({},e),{},{textField0:Object(b.a)(Object(b.a)({},e.textField0),{},{value:t})})}))}),[]),u={textField0:Object(b.a)(Object(b.a)({},i.textField0),{},{onChange:s}),iconButton0:Object(b.a)(Object(b.a)({},i.iconButton0),{},{disabled:!i.textField0.value.trim()}),primaryButton0:Object(b.a)(Object(b.a)({},i.primaryButton0),{},{disabled:!i.textField0.value.trim()}),form:{onSubmit:r.a.useCallback((function(e){e.preventDefault(),e.stopPropagation(),t(i.textField0.value),s(null,"")}),[i.textField0.value,t,s])}};return Object(a.jsx)(nt,Object(b.a)({},u))},ct=r.a.memo(at),rt=function(e){var t=e.iconButton0,n=e.iconButton1,c=e.text;return Object(a.jsxs)(x.a,{variant:"large",as:"em",children:[Object(a.jsx)(w.a,Object(b.a)({},t)),c,Object(a.jsx)(w.a,Object(b.a)({},n))]})},it=function(e){var t={iconButton0:{primary:!0,iconProps:{iconName:"Edit"},onClick:e.onEdit},iconButton1:{iconProps:{iconName:"Delete"},onClick:e.onDelete},text:e.title};return Object(a.jsx)(rt,Object(b.a)({},t))},ot=r.a.memo(it),st=function(e){var t=e.punchCards;return Array.isArray(t)&&t.map((function(e){return Object(a.jsx)(ot,Object(b.a)({},e),e.id)}))},ut=r.a.memo(st),lt=function(e){var t=e.show,n=e.panel,c=e.punchCardsList;return t&&Object(a.jsx)(Oe.a,Object(b.a)(Object(b.a)({},n),{},{children:Object(a.jsx)(O.a,{vertical:!0,children:Object(a.jsx)(ut,Object(b.a)({},c))})}))};lt.defaultProps={show:!1};var dt=function(e){var t=e.items,n=e.isOpen,c=e.onDismiss,i=e.onDeletePunchCard,o=e.onSelectPunchCard,s=r.a.useState({panel:{isOpen:!0},punchCardsList:{punchCards:[]}}),u=Object(m.a)(s,2),l=u[0],d=u[1],j=r.a.useCallback((function(e){d((function(t){return Object(b.a)(Object(b.a)({},t),{},{punchCardsList:Object(b.a)(Object(b.a)({},t.punchCardsList),e)})}))}),[]),O={show:n,panel:{isOpen:n,onDismiss:c,headerText:"Punch Cards"},punchCardsList:Object(b.a)({},l.punchCardsList)};return r.a.useEffect((function(){var e=t.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{onEdit:function(){return o(e.id)},onDelete:function(){return i(e.id)}})}));j({punchCards:e})}),[t,j,o,i]),Object(a.jsx)(lt,Object(b.a)({},O))};dt.defaultProps={items:[]};var jt=r.a.memo(dt),bt=function(e){var t=e.iconButton0,n=e.defaultButotn0,c=e.punchCardsPanel;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.a,Object(b.a)({},t)),Object(a.jsx)(Se.a,Object(b.a)({},n)),Object(a.jsx)(jt,Object(b.a)({},c))]})},mt=function(e){var t=e.onClick,n=e.disabled,c={iconButton0:{type:"submit",disabled:n,className:"ms-hiddenMdUp",title:"Show Punch Cards",iconProps:{iconName:"RedEye"},onClick:t},defaultButotn0:{className:"ms-hiddenSm",disabled:n,type:"submit",iconProps:{iconName:"RedEye"},text:"Show Punch Cards",title:"Show Punch Cards",onClick:t},punchCardsPanel:{items:e.items,isOpen:e.isOpenPanel,onDismiss:e.onDismiss,onDeletePunchCard:e.onDeletePunchCard,onSelectPunchCard:e.onSelectPunchCard}};return Object(a.jsx)(bt,Object(b.a)({},c))};mt.defaultProps={items:[]};var Ot=r.a.memo(mt),ht=function(e){var t=e.selectedPunchCard,n=e.newPunchCardForm,c=e.punchCardsPanel,r=e.showPunchCardsButton;return Object(a.jsxs)(O.a,{tokens:{childrenGap:10},children:[Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(O.a,{horizontal:!0,tokens:{childrenGap:10},children:[Object(a.jsx)(ct,Object(b.a)({},n)),Object(a.jsx)(Ot,Object(b.a)({},r))]})}),Object(a.jsx)(et,Object(b.a)({},t)),Object(a.jsx)(jt,Object(b.a)({},c))]})},ft=function(e){var t=e.onAddPunchCard,n=e.punchCards,c=e.selectedPunchCard,i=e.isOpenPunchCardsPanel,o=e.onDismissPunchCardPanel,s=e.onDeletePunchCard,u=e.onSelectPunchCard,d=e.onClickShowPunchCardsButton,m=e.onEditPunchCard,O={selectedPunchCard:Object(b.a)(Object(b.a)({},c),{},{onChangeGoal:m,onUpdatePunchSlot:m,onAddPunchedSlot:m,onAddScheduledSlot:m,onDeleteScheduledSlot:m,onChangeScheduledSlot:m}),newPunchCardForm:{onSubmit:r.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])},showPunchCardsButton:{isOpenPanel:i,items:n,onDeletePunchCard:s,onSelectPunchCard:u,onDismiss:o,disabled:r.a.useMemo((function(){return!n.length}),[n.length]),onClick:d}};return Object(a.jsx)(ht,Object(b.a)({},O))};ft.defaultProps={punchCards:[],isOpenPunchCardsPanel:!1};var pt=r.a.memo(ft),xt=new(n(95).a)("MyDb");xt.version(1).stores({punchCards:"++id"}),xt.open();var vt=xt,Ct=function(){var e=r.a.useState({punchCards:[],selectedPunchCard:null,isOpenPunchCardsPanel:!1}),t=Object(m.a)(e,2),n=t[0],c=t[1],i=Object(b.a)(Object(b.a)({},n),{},{onAddPunchCard:r.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:Object(h.a)(),title:t,punchedSlots:[],scheduledSlots:[],goalForTheDay:{hours:"09",minutes:"00"}},e.next=3,vt.punchCards.add(n);case 3:c((function(e){return{punchCards:[n].concat(Object(d.a)(e.punchCards)),isOpenPunchCardsPanel:!0}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onDismissPunchCardPanel:r.a.useCallback((function(){c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:!1})}))}),[]),onOpenPunchCardPanel:r.a.useCallback((function(){c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:!0})}))}),[]),onDeletePunchCard:r.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt.punchCards.delete(t);case 2:c((function(e){var n=e.punchCards.filter((function(e){return t!==e.id})),a=Boolean(n.length),c=e.selectedPunchCard?t===e.selectedPunchCard.id?null:e.selectedPunchCard:null;return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:a,punchCards:n,selectedPunchCard:c})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onSelectPunchCard:r.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt.punchCards.get(t);case 2:n=e.sent,c((function(e){return Object(b.a)(Object(b.a)({},e),{},{selectedPunchCard:n,isOpenPunchCardsPanel:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onEditPunchCard:r.a.useCallback(function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=Object(s.a)(t,["id"]),e.next=3,vt.punchCards.update(n,a);case 3:c((function(e){var t=e.punchCards.map((function(e){return e.id===n?Object(b.a)(Object(b.a)({},e),a):e}));return console.log({update:a}),Object(b.a)(Object(b.a)({},e),{},{punchCards:t,selectedPunchCard:Object(b.a)(Object(b.a)({},e.selectedPunchCard),a)})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),onClickShowPunchCardsButton:r.a.useCallback((function(){c((function(e){return Object(b.a)(Object(b.a)({},e),{},{isOpenPunchCardsPanel:!0})}))}),[])});return r.a.useEffect((function(){vt.punchCards.toArray((function(e){e.length&&c((function(t){return{punchCards:e,isOpenPunchCardsPanel:!0}}))}))}),[]),Object(a.jsx)(pt,Object(b.a)({},i))},Pt=r.a.memo(Ct),kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},gt=(n(167),n(96));Object(gt.a)(),o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Pt,{})}),document.getElementById("root")),kt(console.log)}},[[168,1,2]]]);
//# sourceMappingURL=main.06ac9faa.chunk.js.map