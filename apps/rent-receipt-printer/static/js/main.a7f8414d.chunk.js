(this["webpackJsonpreact-rent-receipt-printer"]=this["webpackJsonpreact-rent-receipt-printer"]||[]).push([[0],{123:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(116),s=n.n(r),l=(n(123),n(124),n(125),n(2)),o=n(6),i=n(118),u=n(33),j=n(32),b=n.n(j),d=n(114),m=n.n(d),p=n(115),h=n.n(p),O=(n(117),n(69),n(285),n(0)),f=function(e){var t=e.inputProps,n=e.label,c=e.type,r=e.name,s=e.value,i=e.children,u=e.onChange,j=Object(a.useState)({$value:s,$evt:void 0}),b=Object(o.a)(j,2),d=b[0],m=d.$value,p=d.$evt,h=b[1],f=Object(a.useCallback)((function(e){var t=e.target.value;"string"===typeof t&&h((function(n){return Object(l.a)(Object(l.a)({},n),{},{$value:t,$evt:e})}))}),[]);return Object(a.useEffect)((function(){"string"===typeof m&&"function"===typeof u&&u(r,m,p)}),[m,u,p,r]),Object(O.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(O.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:n}),Object(O.jsx)("input",Object(l.a)({type:c,name:r,className:"form-control",value:m,onChange:f},t)),i]})},v=function(e){var t=e.inputProps,n=e.inputLabel,c=e.inputType,r=e.inputName,s=e.inputValue,i=e.selectProps,u=e.selectLabel,j=e.selectName,d=e.selectValue,m=e.options,p=void 0===m?[]:m,h=e.onChange,f=Object(a.useState)({$value1:s,$value2:d,$value:"",$evt:void 0,$name:"",$name1:r,$name2:j}),v=Object(o.a)(f,2),x=v[0],g=x.$value1,N=x.$value2,y=x.$value,C=x.$evt,w=x.$name,$=x.$name1,M=x.$name2,k=v[1],D=Object(a.useCallback)((function(e){var t=e.target,n=t.value,a=t.name;"string"===typeof n&&k((function(t){return Object(l.a)(Object(l.a)({},t),{},{$value1:n,$value:n,$name1:a,$name:a,$evt:e})}))}),[]),P=Object(a.useCallback)((function(e){var t=e.target,n=t.value,a=t.name;"string"===typeof n&&k((function(t){return Object(l.a)(Object(l.a)({},t),{},{$value2:n,$value:n,$name2:a,$name:a,$evt:e})}))}),[]);return Object(a.useEffect)((function(){Boolean(y)&&"function"===typeof h&&Boolean(w)&&h(w,y,C)}),[y,h,C,w]),Object(O.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(O.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:n}),Object(O.jsx)("input",Object(l.a)({type:c,name:$,className:"form-control",value:g,onChange:D},t)),Object(O.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:u}),Object(O.jsx)("select",Object(l.a)(Object(l.a)({name:M,className:"form-control",value:N,onChange:P},i),{},{children:b()((function(e){var t=e.label,n=e.value;return Object(O.jsx)("option",{value:n,children:t},n)}),p)}))]})},x=function(e){var t=e.checkboxLabel,n=e.checkboxValue,c=e.checkboxName,r=e.inputName,s=e.inputValue,o=e.inputLabel,i=e.inputProps,u=e.checkboxProps,j=e.onChange,b=Object(a.useCallback)((function(e){var t=e.target.checked;"function"===typeof j&&j(c,t,e)}),[c,j]);return Object(O.jsx)(f,{type:"text",name:r,label:o,value:s,onChange:j,inputProps:i,children:Object(O.jsxs)("div",{className:"form-check mx-2",children:[Object(O.jsx)("input",Object(l.a)({className:"form-check-input",type:"checkbox",name:c,checked:n,onChange:b},u)),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:t})]})})},g=function(e){var t=e.textareaProps,n=e.label,c=e.name,r=e.value,s=e.rows,i=void 0===s?3:s,u=e.onChange,j=Object(a.useState)({$value:r,$evt:void 0}),b=Object(o.a)(j,2),d=b[0],m=d.$value,p=d.$evt,h=b[1],f=Object(a.useCallback)((function(e){var t=e.target.value;"string"===typeof t&&h((function(n){return Object(l.a)(Object(l.a)({},n),{},{$value:t,$evt:e})}))}),[]);return Object(a.useEffect)((function(){"string"===typeof m&&"function"===typeof u&&u(c,m,p)}),[m,u,p,c]),Object(O.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(O.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:n}),Object(O.jsx)("textarea",Object(l.a)({name:c,className:"form-control",value:m,onChange:f,rows:i},t))]})},N=m()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1;return{label:t,value:t}}),12),y=function(e){var t=e.onChange,n=Object(a.useState)({tenantName:"",fromDate:"",noOfMonths:"12",rentAmount:"",includesMaintenance:!1,address:"",landlordName:"",landlordPan:""}),c=Object(o.a)(n,2),r=c[0],s=c[1],i=r.tenantName,j=r.fromDate,b=r.noOfMonths,d=r.rentAmount,m=r.includesMaintenance,p=r.address,h=r.landlordName,y=r.landlordPan,C=Object(a.useCallback)((function(e,t){e&&s((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(u.a)({},e,t))}))}),[]);return Object(a.useEffect)((function(){t(r)}),[r,t]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"text-center h3",children:"Rent Receipt Printer"}),Object(O.jsxs)("form",{noValidate:!0,children:[Object(O.jsx)(f,{type:"text",label:"Tenant's Name",name:"tenantName",value:i,onChange:C,inputProps:{required:!0,"aria-label":"Tenant's Name"}}),Object(O.jsx)(v,{inputLabel:"From",inputName:"fromDate",inputValue:j,inputType:"date",options:N,selectLabel:"# of months",selectName:"noOfMonths",inputProps:{"aria-label":"Type in From Date"},selectValue:b,onChange:C}),Object(O.jsx)(x,{inputProps:{type:"number"},inputLabel:"Amount",inputName:"rentAmount",inputValue:d,checkboxLabel:"Includes Maintenance",checkboxName:"includesMaintenance",checkboxValue:m,onChange:C}),Object(O.jsx)(g,{label:"Address",name:"address",onChange:C,value:p,rows:5}),Object(O.jsx)(f,{type:"text",label:"Landlord's Name",name:"landlordName",value:h,onChange:C}),Object(O.jsx)(f,{type:"text",label:"Landlord's PAN #",name:"landlordPan",value:y,onChange:C})]})]})},C=function(e){var t=e.onChange,n=Object(a.useState)({validationMessages:[]}),c=Object(o.a)(n,2),r=c[0].validationMessages,s=c[1],i=Object(a.useCallback)((function(e){var n=$(e);s((function(e){return Object(l.a)(Object(l.a)({},e),{},{validationMessages:n})})),0===n.length&&t(e)}),[t]);return Object(O.jsxs)("div",{className:"d-print-none",children:[Object(O.jsx)(y,{onChange:i}),r.length>0&&Object(O.jsx)("div",{className:"alert alert-warning show my-2 p-0",role:"alert",children:Object(O.jsx)("ul",{children:r.map((function(e,t){return Object(O.jsx)("li",{className:"p-0 m-0",children:e},"validaiton-messages-".concat(t))}))})})]})},w=function(e){var t=e.label;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("strong",{children:t})," is required"]})},$=function(e){var t=e.tenantName,n=e.rentAmount,a=e.address,c=e.landlordName,r=e.landlordPan,s=[{label:"Address",field:a},{label:"Rent Amount",field:n},{label:"Tenant's Name",field:t},{label:"From Date",field:e.fromDate},{label:"Landlord's Name",field:c},{label:"Landlord's PAN#",field:r}],l=b()((function(e){var t=e.label,n=e.field;return!Boolean(n)&&Object(O.jsx)(w,{label:t},t)}),s),o=h()((function(e){return Boolean(e)}),l);return Object(i.a)(o)},M=n(68),k=n.n(M),D=n(67),P=n.n(D),L=function(e,t){return b()((function(t){var n=function(e,t){return k()(e).add(t,"months").startOf("day")}(e,t),a=n.daysInMonth();return{month:n.format("MMMM YYYY"),fromDt:n.format("DD-MMM-YYYY"),toDt:n.add(a,"days").subtract(1,"day").format("DD-MMM-YYYY")}}),P()(parseInt(t)))},A=n(293),F=function(e){var t=e.t;return Object(O.jsx)("strong",{children:t})},Y=function(e){var t=e.amount,n=e.tenantName,c=e.address,r=e.month,s=e.fromDt,l=e.toDt,o=e.landlordName,i=e.panNo,u=e.printOnly,j=e.pageBreakAfter,b=e.includesMaintenance,d=Object(a.useMemo)((function(){return{receiptNumber:Object(A.a)().substr(-12),wrapperClasses:"overflow-auto d-print-block mt-2 ".concat(j?"page-break-after":""," ").concat(u?"d-none":"").trim()}}),[j,u]),m=d.receiptNumber,p=d.wrapperClasses;return Object(O.jsx)("div",{className:p,children:Object(O.jsxs)("div",{className:"border-2 border p-2 m-1 border-secondary",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"RENT RECEIPT"}),Object(O.jsx)("h6",{children:r})]}),Object(O.jsxs)("div",{className:"text-end",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(F,{t:"Date: "}),l]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(F,{t:"Receipt No: "})," ",m," "]})]})]}),Object(O.jsxs)("div",{className:"my-4",children:["Received sum of ",Object(O.jsx)(F,{t:"\u20b9 ".concat(t," ")}),"from ",Object(O.jsx)(F,{t:n})," towards the rent"," ",b?"and maintenance":""," of property located at"," ",Object(O.jsx)(F,{t:c})," for the period from ",Object(O.jsx)(F,{t:s})," to"," ",Object(O.jsx)(F,{t:l}),"."]}),Object(O.jsx)("div",{className:"mb-4",children:Object(O.jsxs)("strong",{children:[o," (Landlord)"]})})," ",Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("strong",{children:"PAN No:"})," ",i]})]})})},z=function(e){var t=e.type,n=e.className;switch(t){case"exclamation-octagon-fill":return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-exclamation-octagon-fill ".concat(n),viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})});case"printer-fill":return Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-printer-fill ".concat(n),viewBox:"0 0 16 16",children:[Object(O.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z"}),Object(O.jsx)("path",{d:"M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"})]});case"share-fill":return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-share-fill ".concat(n),viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})});default:return null}},B=(n(287),function(){var e=Object(a.useState)({rentReceiptsInfo:void 0,rentReceiptFormData:void 0,hasPrintFeature:Boolean(window.print)}),t=Object(o.a)(e,2),n=t[0],c=n.rentReceiptFormData,r=n.hasPrintFeature,s=t[1],i=Object(a.useCallback)((function(e){s((function(t){return Object(l.a)(Object(l.a)({},t),{},{rentReceiptFormData:e})}))}),[]),u=Object(a.useMemo)((function(){return c&&L(c.fromDate,c.noOfMonths)}),[c]),j=Object(a.useMemo)((function(){return u&&c?u.map((function(e,t){var n={address:c.address,amount:Number(c.rentAmount).toLocaleString(),landlordName:c.landlordName,tenantName:c.tenantName,pageBreakAfter:(t+1)%3===0&&u.length-t>3,printOnly:!0,toDt:e.toDt,fromDt:e.fromDt,month:e.month,panNo:c.landlordPan,includesMaintenance:c.includesMaintenance};return Object(O.jsx)(Y,Object(l.a)({},n),e.month)})):null}),[u,c]),b=Object(a.useCallback)((function(){window.print()}),[]);return r?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row  justify-content-center",children:Object(O.jsxs)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5 col-xxl-5",children:[Object(O.jsx)(C,{onChange:i}),Object(O.jsx)("button",{className:"btn btn-success d-print-none",onClick:b,disabled:!j,children:Object(O.jsxs)("span",{className:"d-inline-flex align-items-center",children:[Object(O.jsx)(z,{type:"printer-fill",className:"me-1"}),"Print"]})})]})})}),j]}):Object(O.jsx)("div",{className:"container my-2",children:Object(O.jsxs)("div",{className:"alert alert-warning d-flex align-items-center",children:[Object(O.jsx)(z,{type:"exclamation-octagon-fill",className:"me-2"}),Object(O.jsx)("div",{children:"Your system doesn't have print feature."})]})})}),V=function(){return Object(O.jsx)(B,{})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,294)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(V,{})}),document.getElementById("root")),R()}},[[289,1,2]]]);
//# sourceMappingURL=main.a7f8414d.chunk.js.map